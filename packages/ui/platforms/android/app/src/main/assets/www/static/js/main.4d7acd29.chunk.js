(this["webpackJsonp@toiletmap/ui"]=this["webpackJsonp@toiletmap/ui"]||[]).push([[0],{114:function(e,t,a){e.exports={wrapper:"app_wrapper__1GEpn"}},118:function(e,t,a){e.exports={header:"header_header__1EqMA",sponsorWrapper:"header_sponsorWrapper__2psLT",sponsorTitle:"header_sponsorTitle__35Fqn",sponsorLogo:"header_sponsorLogo__1eqA0",title:"header_title__3Zatg"}},119:function(e,t,a){e.exports=a.p+"static/media/logo.999b4a66.svg"},120:function(e,t,a){e.exports={popupBody:"cookie-box_popupBody__3a2VF"}},121:function(e,t,a){e.exports={colors:"'../../css/colors.css'",colorHighlight:"#fff5c5",notification:"notification_notification__nA5Ux messages_message__3R4Wi"}},122:function(e,t,a){e.exports=a.p+"static/media/pref-accessible-white.ae279168.svg"},123:function(e,t,a){e.exports=a.p+"static/media/pref-cost-white.fc6c081c.svg"},124:function(e,t,a){e.exports=a.p+"static/media/pref-open-white.0c71ed98.svg"},125:function(e,t,a){e.exports=a.p+"static/media/pref-male-white.dbf159ae.svg"},126:function(e,t,a){e.exports=a.p+"static/media/pref-female-white.936f1ef1.svg"},127:function(e,t,a){e.exports=a.p+"static/media/pref-babychanging-white.10f815cf.svg"},130:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALDSURBVFiFtdfPaxNBFAfw75ttoumxvaRpKwSpB+lBbIp66N1/QvBv0JsiFBSqrYqXKihKKNje9GrPHlow9WcRJWKETXZJ1tpKS+xmN/M8NLtJk26y2+w+CGzeZuYzL8nMzoCZEeQ1Ojo6HLQNMTO8Ynx8PFGv1y8LITLMPAUgA2AYwBaAHBFtSClziqK8UVX1n1c/nsjY2NglZs4COOM5imZ8J6KrxWJx3ReSTqdP1mq12wCuARA+ACfqABYGBwdn8/m86YlMTk7Gt7e31wCcD9B5e6xrmjbDzLaTODTSnZ2d2T4BALiYSqVutCbcSkZGRqaFEGsAlD4RALCIaLpYLH4CGpVMTEycEEJkQwIAIMbM2UwmE3ORarU6A+BsSIAT53Rdv+AiOPj/hx7MnHERIooEcfoVDXEqCgTAFAAIIhoAcCoi5DQRkWhMmnxEyA9mZuc3eRcR0pwnUspcFAIzf3aRqCpRFKVZiRDiAw5W0bCjiTQeOGFXo6mqWnIRAGDmFyEjy86Fi9i2vQJgNyxBCLHUgVQqlT0iWgnJ+Kiq6pcOBACklE/DEIhoqfX9IUTTtA0A7/s0bMuyllsTHRsFIuq3mtVyuVzuipimuQxg77hC+1d1JGIYxi6AxWMav5LJ5OueCAAIIeYB/A0qMPNcLpezfCGqqv4hogcBDXVoaCh71A3PHaJpmo8A/PYrENHc5uZmLRBiGMYuEd31aZQSiYTnstR1rxuLxRYBlHwg99r3v76RQqGwT0R3egB6PB5/1u0DPXftyWTyORH99LrPzPOFQmG/Wx9dD0FOpFKpK0dNMgBlIUS62wEI8Hn+0HX9JYCvHSMkWugF+EaYWTLzrba0wcxP/LT3fZLSNO0VgI2W1P1SqVQNFQEAZr7ZuNyyLOux33aBEE3TVgG8ZeaHlUrF90o9EAQBACnlddu2vwVp8x/RpWatrkBmQQAAAABJRU5ErkJggg=="},131:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAXcSURBVHic3ZvdbxRVGMaf98ymJSSYUITu7nSxDUGN4oUmkmiMN8Z4pfAPkHhtTLwifiSEgN6gwYTIjRjxIwiSGLGoIRGiEvADI4pSBIXatDNzdrqlNAKF2p2Z1wt2l/3emTMzO62/q51z3nPO8+Q9szkz5wwxM/4PpOLqmIi0XC7X7zhOhoi4WCzKqampAjN7sYwXRUaIiAYGBtZ7nreRiJ5g5gEAqwBodaEuABuAAeAoMw9LKU+HFoCQRnK53AOu6z5HRBsAZBS7MQEcZubdUsrzqlqUjOi6vhrAdgCbAAjVwetwAbwvhNhqGIYVtHEgI7quL8UtA88D6A06mE9uAtjV09OzbWxsbM5vI99Gcrmc7nneYQAPKQoMyqlisbixUCjYfoJ9GclkMg8LIYahfh+oYhDRM6ZpnukU2HF+67r+tBDiOLpvAgByzHwym80+1SmwbUZ0XX8QwEkASyMUp8I113UftW17pFVAy4wMDg5mABxG8iYAYJmmaZ9nMpmVrQKaGhkaGloyPz//GYCB2KQFZ1AI8em6det6mlU2NVIsFjcT0fp4dSnx2MzMzAvNKhrukUwms1IIMQpgWTeUKTCTSqXWjI+Pz1QXNmRECLEFC9cEACx3HOfl+sKajKTT6SFN0y4AaDoPFxBzRLTWNE2zXFCTEU3TnsXCNwEASzzP21RdUD+1NnZRTFhqtFamVmla/Z2IJDVY07SBiYkJCVRlJJVKLaZsAAB5nrehfFExwsyPJ6NHnWrN1UayycgJRUVzxQgRLX4jRCQApBOTo06tkf7+/jsR46uhGFm6YsWKO4DbU2s2QTFh4L6+vn+BkhHbtmcBTCcqSY3LFy9evG2kxHhCYsLQdK01kYCQsDQaIaJFlxFmrrzIq86I8uvKpBBCXKr8Lv9wHOdoMnLUIaITld/VD1a6rl8CsCYJUQpck1IuZ2YXaHwe+SoBQUoQ0cmyCWARG2Hm49XXNUbm5ua+BuB0VZEiQohva66rL6anp68C+KGbghS5bppmzU5Xw+sgZt7XPT3KDDNzzcxpMOI4zn4A17omSY0P6wsajBQKhevMvL87epSQUspj9YVN3/0S0Z749Sizr9kWd1MjlmX9AuDn2CUp4Hlew7QC2u9YvR2TljCczufz55pVtDTiuu4BLLybvmk2gDZGbNueZeaP4tGjRNHzvAOtKttuhgohFtL0OpLP56daVbY1YprmGWb+KXpNwWHmD9rVd9yeJqKFkJUrfX19X7QL6GjEdd2DAK5GJkmNj0dGRubbBXQ0UnpVlOj6SwjR8t+qEuOzoySn15+GYZzqFOTLiGEYvwP4MbQkBTrd5GWCnLXaoaglDDeJ6B0/gb6NSCmHAfymLEmNvZZlXfYT6NsI32K7uqbAuK7r7vQbHOgYXz6fPwTgbGBJanxi2/aY3+BARpiZiahbWXk9SHDgw5lERNls9iyA+wM1DMYxy7KeDNIg8AnRLmUlUDYAxeOyRCRKWbkvcOPO/GpZVuADoEpndkvPzK+qtPVB4GwAIU5il7JyDsC9Sh00Z0xKubb6na5flE9Rx5SVN1VMACHPxpey8geAe5Q7uc1lAHdZlnVDpXGoc+3M7DHza2H6qGK3qgkggs8uiEjLZrPnAawN0c0NIlptmqbyFnnoLw2Y2SWisFnZG8YEEN2HMGGyMs/Md0spQ+0qR/LtBzO7zNxw8tMne8KaACLKSBld178H8EiAJrOO46yZnJycDDt2VF/jlNkcJJiIdkVhAojYiGVZ3wE45DP8Sm9vr9JypBlRZwRE9BL8bajuGB0d/SeqcSM3YprmXwA6bRRJIcRbUY4buREAcF13G9psSRDRdsMwbkY5ZixGbNsuENEbLaovWZb1btRjxmIEAJh5JwDZpGpL/dZyFMRmpLQA3FpXfEZKeTCO8WIzAgBSyvcAVPb8PM97hWP6XDtWI6UF5YulyxP5fP5IXGPFagQATNP8EsA3AFTXYr6IdK3VinQ6vcq27UKcY/wH8m9T8JanrhAAAAAASUVORK5CYII="},132:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI5ODgzNDYzOEVGNTExRTZBNEZBRkIxNTJERjBDMkVEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI5ODgzNDY0OEVGNTExRTZBNEZBRkIxNTJERjBDMkVEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Qjk4ODM0NjE4RUY1MTFFNkE0RkFGQjE1MkRGMEMyRUQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Qjk4ODM0NjI4RUY1MTFFNkE0RkFGQjE1MkRGMEMyRUQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WuKllAAAB8ElEQVR42ryXy0rDQBSGU9taXfsE7ULBjWIr6sK9j+E7KFJv4EKotgpuqqgoIlh3utWdoIJgvYMoShGkingBUWxr6+U/MIFQksxMOukPH6Fpki9nJpnMeILRoCaZBvCq/8jEMtwTPBxJPegBERBmW12SBkdsuwVZzomkC6yARoHqrkEvRAdmf9aY7KsDCbAnKKA00fGhwVAMBHiSWrAP+i1uwC5eEAU7EPnsJGOgTassnWDIStIOBjQ1GUE1LeWSAOtkryKJn64Hkd8o6QbNmtq0gg6jJKK5k0jVJWGXJGH9jadnuuDgvRBJkR4qunAJ3LhUyS2Gmj/97g9dkpwZ+yTtkuTcKKlKJSfgx21JzoVqHtDp2fIBclmxJGU2Cq+DD4WSVTPJJxOpyCma6sLqo7WgugozCc0+jisUlIz9YTWRqLSabTTVE0+SYv2jpKmsJPSEJR0K7sCmiIQSB+8OJDE0VVFU8gamJQX3bDKiiUooM+BFsopvWQn1zYSgIGs3LPE+uUl2AV4mUUXBqSQPxjnHPIJFuwNEJg9LtNax+T+OKvKVSopsIm4WerPneRcQnQatgUuT/Qm7FZas5BeMlu17BnMiJ8tM6DbYKK1nCnypllCG2ZYWprOiJ/lkh3GwS6tdmZFaVkLpA1cyJ/wLMABjWYJj0iIC6gAAAABJRU5ErkJggg=="},133:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk3QTM3NDQ0OEVGNTExRTY5NzI4QUFDOTYyNzI3RTJBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk3QTM3NDQ1OEVGNTExRTY5NzI4QUFDOTYyNzI3RTJBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTdBMzc0NDI4RUY1MTFFNjk3MjhBQUM5NjI3MjdFMkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTdBMzc0NDM4RUY1MTFFNjk3MjhBQUM5NjI3MjdFMkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6tc7CtAAAEGklEQVR42tybWUhVQRzGj7coMwqErDSL8rmiguolfOmhp9DHCIKghyCKHiLKQCQLJFsg6qWiTbIy22xByCjFot02zGy5Yam0qJCpZaX2/fFvXI7nXM8yc87M/eBj5C6e+zvfzNzZbtLAwICRCBrt9x9k5WXZPTUKngKnw3S3WuGvcL9IgGhRVAwIKwleBOfCS+FMeDLDxKoP/gx/gqvgCviJkA/gp2ohjTko1sE5fOe9qBm+Ah+EGwJNBAAzUBTCq+CIz5uZyTdjLXwCLoBbpLYRAKQwwHp4rOD2StVwDbwS3g9vh385fXPEBcQ0FLXwJgkQsRoHb4Wr4alCQQCxEMUjeEGAPepi+CE8TwgIIJajqPHRmP1oOnwHXuYLBBDzUZzluMPSeLgcnu0JBBDp3C2mKPDFPQG+Cqe5AgFEMorL3DWqopnwRXiMm0Q28ze1aloCb3QEgjTSGERV5cGpThLJ5zqpqlIZxh4EaczioYLq2mBuv+ZEVts1JsWUzOM8W5BcjeZSuZYgXK3magRCw6YMq0R0SmNoMpdjBZKt4VQ92wokQ0OQjMQEQUOPuJnEqJzIJIErKkEqBSFMjAXpNvQULQH1/geJFkUJpF1DkDZ89l5zY2/SEKTZqtf6mCggOibSYgXSoCHIOyuQKg1BaoeBoPXTavB7jSB+GDEr+eb5yA2NQGjhri8RQGrizRBvwX81Aam2BUE76URxTwOILsO002W1HHRKA5AKc82xAjnNPYLKKjE/MAwE1auLYVQV7Q7fHBGEdVhhEKr6/Y5AkEodise6VKt4iZAOKQhBPVW9W5AzCjb6ErsnbEF41liqEMQfvrmG20RUq16V8DdPIEjlmTG4RayCTsZ70sk+uwqpdMDX/IKUwZ0hg9AW+W9fINzowx5/lYz0AqdnUcKsXo3wAyEgSOUFivsqNnK3iZB2hQDxEz4iGoTmAM8DBjkGtwkFQfWiBePCACFoYWGv0xe7PcZ3CX4ZEMh5+IMUkIBTKXbzYi8HKy/YDaUFimaAdVJBAkql2O0bIj7q7ytJEE8ND+vQnkCQCs2Zd6iShp9ESOfg14IhqJcqDxREUir7jJiF6aASGRpeNwqCaONvciNwEE5lpyAQOuTfEwoIixYE3vr8Hz0MYoQJ0icgFapS7WGDkEp9pEJT2D1+P4AoEEolz+N7aZ25SRWQoTGY202iblGdhUgQktuDz/SDly8qgtzlOYsTdXgdjgQBQqJf4zjZUKU1gO8qg7wxRt4ool2nAyIvKgOERD/0irclUcgrJMqD0C9Ad9s8Rwdhjoq+oCwQg1dAWi0ezzckHEqQCULjpwLTY7RNUSbjYjJBSMdNCxXbjMEDldqB0NBlC/9NZ6sqZV1INgjpOnzbx1jMkYI6tLyCezJp+ifAAD+i+GdGwsZiAAAAAElFTkSuQmCC"},135:function(e,t,a){e.exports={preferences:"preferences-page_preferences__3WQLD"}},136:function(e,t,a){e.exports=a.p+"static/media/pref-accessible.aac416f1.svg"},137:function(e,t,a){e.exports=a.p+"static/media/pref-cost.907d70f1.svg"},138:function(e,t,a){e.exports=a.p+"static/media/pref-open.6977530b.svg"},139:function(e,t,a){e.exports=a.p+"static/media/pref-male.8c941839.svg"},14:function(e,t,a){e.exports={appContainer:"layout_appContainer__1rIks",mainContainer:"layout_mainContainer__37CRu",bandedSection:"layout_bandedSection__3mBJB",bandedSectionText:"layout_bandedSectionText__2drPD",main:"layout_main__3epbK",content:"layout_content__1n05a",mapContainer:"layout_mapContainer__3mjCm",controls:"layout_controls__2_JkV"}},140:function(e,t,a){e.exports=a.p+"static/media/pref-female.15866789.svg"},141:function(e,t,a){e.exports=a.p+"static/media/pref-babychanging.7ed6f047.svg"},145:function(e,t,a){e.exports=a(229)},17:function(e,t,a){e.exports={small:"headings_small__1mGEH",regular:"headings_regular__2_vaf",large:"headings_large__3M1FA"}},185:function(e,t,a){},187:function(e,t,a){},22:function(e,t,a){e.exports={map:"loo-map_map__2XxNC","with-crosshair":"loo-map_with-crosshair__oGQ1R",index:"loo-map_index__1AQXf",markerHighlighted:"loo-map_markerHighlighted__y8OA0",bounce:"loo-map_bounce__8GRbf",locate:"loo-map_locate__3J0aX",loading:"loo-map_loading__oplDY",cluster:"loo-map_cluster__2dEM3",count:"loo-map_count__3HOss"}},229:function(e,t,a){"use strict";a.r(t);a(146),a(162),a(165),a(168);var n=a(0),o=a.n(n),r=a(111),i=a.n(r),s=a(41),c=a(109),l=a(60),u=a(46),p=a(18),m=a(142),h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");h?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):g(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):g(t,e)}))}}function g(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),alert("New updates for the toilet map are ready.\nYou can update by closing all tabs for this site and then visiting again."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(183),a(184),a(185),a(186),a(187);var f,b,v=a(4),y=a(5),E=a(8),O=a(7),_=a(9),k=a(108),w=a(15);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j="GEOLOCATION/GET_GEOLOCATION/REQUEST",N="GEOLOCATION/GET_GEOLOCATION/SUCCESS",x="GEOLOCATION/GET_GEOLOCATION/ERROR",L=function(){return{type:j}},S=(f={},Object(w.a)(f,j,L),Object(w.a)(f,N,(function(e){return{type:N,payload:{position:e}}})),Object(w.a)(f,x,(function(e){return{type:x,payload:{error:e}}})),f),I=(b={},Object(w.a)(b,N,(function(e,t){var a=t.payload.position.coords;return C({},e,{position:{lng:a.longitude,lat:a.latitude}})})),Object(w.a)(b,x,(function(e,t){return C({},e,{error:t.payload.error})})),b);var M,T=a(114),B=a.n(T),U=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.geolocation.location&&this.props.geolocation.error||(window.cordova?document.addEventListener("deviceready",this.props.actionGetGeolocationRequest,!1):this.props.actionGetGeolocationRequest())}},{key:"render",value:function(){return this.props.map.center?this.props.children:o.a.createElement("div",{className:B.a.wrapper},o.a.createElement("p",null,"Fetching toilets\u2026"))}}]),t}(n.Component),P={actionGetGeolocationRequest:L},D=Object(k.a)(Object(p.b)((function(e){return{geolocation:e.geolocation,map:e.mapControls}}),P)(U)),R=a(144),G=a(110),F=function(e){var t=e.auth,a=e.component,n=Object(R.a)(e,["auth","component"]);return o.a.createElement(l.a,Object.assign({},n,{render:function(e){return t.isAuthenticated()?o.a.createElement(a,e):(t.redirectOnNextLogin(e.location),o.a.createElement(G.a,{to:"/login"}))}}))},Z=a(11),z=a.n(Z),W=a(34),H=a(116),Y=a(117),Q=a.n(Y)()(),J=function(){function e(){Object(v.a)(this,e),this.auth0=new H.a.WebAuth({domain:"gbptm.eu.auth0.com",clientID:"sUts4RKy04JcyZ2IVFgMAC0rhPARCQYg",redirectUri:"".concat(window.location.origin,"/callback"),responseType:"token id_token",audience:"https://www.toiletmap.org.uk/api",scope:"openid profile report:loo"}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this.fetchProfile=this.fetchProfile.bind(this)}return Object(y.a)(e,[{key:"handleAuthentication",value:function(){var e=this;return new Promise((function(t,a){e.auth0.parseHash((function(n,o){o&&o.accessToken&&o.idToken?(e.setSession(o),t()):n&&a(n)}))}))}},{key:"setSession",value:function(e){var t=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem("access_token",e.accessToken),localStorage.setItem("id_token",e.idToken),localStorage.setItem("expires_at",t)}},{key:"getAccessToken",value:function(){var e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return e}},{key:"fetchProfile",value:function(){var e=this;return new Promise((function(t,a){var n=e.getAccessToken();e.auth0.client.userInfo(n,(function(e,n){n?(localStorage.setItem("name",n.name),t(n)):e&&a(e)}))}))}},{key:"getProfile",value:function(){return{name:localStorage.getItem("name")}}},{key:"redirectOnNextLogin",value:function(e){localStorage.setItem("redirectOnLogin",JSON.stringify(e))}},{key:"redirectOnLogin",value:function(){return JSON.parse(localStorage.getItem("redirectOnLogin"))}},{key:"login",value:function(){this.auth0.authorize()}},{key:"logout",value:function(){localStorage.removeItem("name"),localStorage.removeItem("access_token"),localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),Q.replace("/")}},{key:"isAuthenticated",value:function(){var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e}}]),e}();function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K="AUTH/DO/LOGIN",X="AUTH/DO/LOGOUT",$=function(){return{type:K}},ee=function(){return{type:X}},te=function(e){return{type:"AUTH/LOGIN/OK",payload:e}},ae=(M={},Object(w.a)(M,"AUTH/LOGIN/OK",(function(e,t){return V({},e,{isAuthenticated:t.payload})})),Object(w.a)(M,"AUTH/SET/NAME",(function(e,t){return V({},e,{name:t.payload})})),M),ne={isAuthenticated:(new J).isAuthenticated(),name:(new J).getProfile().name};var oe=a(26),re=a.n(oe),ie=a(118),se=a.n(ie),ce=a(53),le=a(37),ue=a.n(le),pe=a(119),me=a.n(pe),he=function(){return o.a.createElement(ce.a,{to:"/",title:"Go to home page",className:ue.a.wrapper},o.a.createElement("img",{src:me.a,alt:"'The Great British Toilet Map' logo",className:ue.a.image}),o.a.createElement("span",{className:ue.a.title},"The Great British ",o.a.createElement("span",null,"Public Toilet Map")))},de=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:se.a.header},o.a.createElement(he,null))}}]),t}(n.Component),ge=a(31),fe=a.n(ge),be=a(82),ve=a.n(be),ye=function(e){var t=e.onClick;return o.a.createElement("div",{className:ve.a.cookieButtonWrapper},o.a.createElement("button",{className:ve.a.btn,type:"button",onClick:t,title:"Open the cookie settings"},o.a.createElement("span",{role:"img","aria-label":"Cookie Emoji"},"\ud83c\udf6a")))},Ee=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",{className:fe.a.footer},o.a.createElement("ul",{className:fe.a.footerList},o.a.createElement("li",{className:fe.a.footerListItem},o.a.createElement(ce.a,{to:"/preferences",className:fe.a.footerItem},o.a.createElement("span",{className:fe.a.footerItemText},"Preferences"))),o.a.createElement("li",{className:fe.a.footerListItem},o.a.createElement(ce.a,{to:"/privacy",className:fe.a.footerItem},o.a.createElement("span",{className:fe.a.footerItemText},"Privacy Policy"))),o.a.createElement("li",{className:fe.a.footerListItem},o.a.createElement(ce.a,{to:"/about",className:fe.a.footerItem},o.a.createElement("span",{className:fe.a.footerItemText},"About"))),o.a.createElement("li",{className:fe.a.footerListItem},o.a.createElement(ye,{onClick:this.props.onCookieBoxButtonClick}))))}}]),t}(n.Component),Oe=a(14),_e=a.n(Oe),ke=a(63);function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ce="preferences",je={viewport:{mobile:567},analyticsId:"UA-52513593-1",nearestRadius:5e4,nearestListLimit:5,initialZoom:16,minZoom:12,maxZoom:18,editMinZoom:16,allowAddEditLoo:!0,showBackButtons:!1,fallbackLocation:{lat:51.507351,lng:-.127758},getStage:function(){return"www.toiletmap.org.uk"===window.location.hostname?"production":"staging"},getSettings:function(e){return JSON.parse(localStorage.getItem(e)||"{}")},getSetting:function(e,t,a){var n=this.getSettings(e)[t];return void 0===n?a:n},setSetting:function(e,t,a){var n=this.getSettings(e);n[t]=a,localStorage.setItem(e,JSON.stringify(n))},setSettings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};localStorage.setItem(e,JSON.stringify(Ae({},this.getSettings(e),{},t)))},checkPreferences:function(e){var t=this.getSettings(Ce),a={};if(!Object.keys(t).length)return a;var n={free:"fee",accessible:"accessibleType",open:"opening",male:"type",female:"type",babychanging:"babyChange"};return Object.keys(t).forEach((function(t){var o=e.properties[n[t]];if(-1===["",void 0,null].indexOf(o))switch(t){case"free":a[t]=!1===o||"false"===o||0===o||"0.00"===o||"free"===o.toLowerCase()||"none"===o.toLowerCase();break;case"accessible":a[t]=!1===o||"false"===o||"none"!==o.toLowerCase();break;case"open":""!==o&&(a[t]=Object(ke.isOpen)(o));break;case"male":a[t]=/\bmale\b|unisex/.test(o);break;case"female":a[t]=/\bfemale\b|unisex/.test(o);break;case"babychanging":a[t]=!0===o||"true"===o||"false"!==o}})),a}},Ne=a(83),xe=a.n(Ne),Le=a(84),Se=function(){return o.a.createElement(Le.Helmet,null,o.a.createElement("script",{src:"".concat(".","/adobe-digital-data-stage.js")}),o.a.createElement("script",{src:"//assets.adobedtm.com/launch-EN896f27c113614ed9a3a705dc289c6887-staging.min.js",async:!0}))},Ie=function(){return o.a.createElement(Le.Helmet,null,o.a.createElement("script",{src:"".concat(".","/adobe-digital-data.js")}),o.a.createElement("script",{src:"//assets.adobedtm.com/launch-EN896f27c113614ed9a3a705dc289c6887-staging.min.js",async:!0}))},Me=function(){return"production"===je.getStage()?o.a.createElement(Ie,null):o.a.createElement(Se,null)},Te=a(120),Be=a.n(Te),Ue=a(6),Pe=a.n(Ue),De=function(e){var t=e.children,a=e.checked,n=e.name,r=e.onChange;return o.a.createElement("label",{className:Pe.a.preferenceWrapper},o.a.createElement("input",{className:Pe.a.preferenceInput,type:"checkbox",name:n,onChange:r,checked:a}),o.a.createElement("span",{className:Pe.a.preference},t))},Re=function(e){function t(e,a){var n;return Object(v.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e,a))).handleSubmit=function(e){e.preventDefault(),n.props.onSubmit({aaAccepted:n.state.aaAccepted,gaAccepted:n.state.gaAccepted})},n.state={aaAccepted:e.aaAccepted||!1,gaAccepted:e.gaAccepted||!1},n}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return this.props.open?o.a.createElement("div",null,o.a.createElement("div",{className:Be.a.popupBody},o.a.createElement("p",null,"Opt in to a Google Analytics cookie. This will help us improve your experience with the site, so you can find a loo quicker. By opting in you would be sharing your data with Public Convenience Ltd and tech partners Neontribe as well as Google itself."),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(De,{onChange:function(t){return e.setState({gaAccepted:t.target.checked})},checked:this.state.gaAccepted},o.a.createElement("span",null,"Opt-in to Google Analytics")),o.a.createElement("p",null,"You can also opt in to additional cookies to support the project indirectly. By opting in to additional analytics cookies we can share your data with Unilever via Google and Adobe Analytics, and benefit from Unilever's continued sponsorship."),o.a.createElement(De,{onChange:function(t){return e.setState({aaAccepted:t.target.checked})},checked:this.state.aaAccepted},o.a.createElement("span",null,"Opt-in to Adobe Analytics")),o.a.createElement("p",null,"Opting in is entirely up to you. For more detailed information about the cookies we use, see our"," ",o.a.createElement(ce.a,{to:"/privacy"},"Cookies page.")),o.a.createElement("div",null,o.a.createElement("button",{className:Pe.a.btn},"Save and close"))))):null}}]),t}(o.a.Component);Re.defaultProps={onSubmit:function(){}};var Ge=Re,Fe="chosen tracking state",Ze=function(e,t){return e&&!t},ze=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={aaAccepted:je.getSetting(t.configNS,"aaAccepted"),gaAccepted:je.getSetting(t.configNS,"gaAccepted")},a.saveTrackingLevel=function(e){var n=e.aaAccepted,o=e.gaAccepted,r={aaAccepted:a.state.aaAccepted,gaAccepted:a.state.gaAccepted};a.setState({aaAccepted:n,gaAccepted:o}),je.setSettings(t.configNS,{trackingState:Fe,aaAccepted:n,gaAccepted:o}),Ze(r.aaAccepted,n)||Ze(r.gaAccepted,o)?window.location.reload():a.props.onClose()},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"renderTracking",value:function(){var e=this.props,t=e.analyticsId,a=e.children,r=this.state,i=r.gaAccepted,s=r.aaAccepted;switch(!0){case i&&s:return o.a.createElement(n.Fragment,null,o.a.createElement(Me,null),o.a.createElement(xe.a,{id:t},a));case i:return o.a.createElement(xe.a,{id:t},a);case s:return o.a.createElement(n.Fragment,null,o.a.createElement(Me,null),a);default:return a}}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ge,{open:this.props.open,onSubmit:this.saveTrackingLevel,aaAccepted:this.state.aaAccepted,gaAccepted:this.state.gaAccepted}),this.renderTracking())}}]),t}(o.a.Component);ze.configNS="tracking",ze.defaultProps={onClose:function(){}};var We,He=ze,Ye=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={cookieSettingsOpen:je.getSetting(He.configNS,"trackingState")!==Fe},a.mainRef=o.a.createRef(),a.handleCookieBoxButtonClick=function(){a.setState({cookieSettingsOpen:!0})},a.handleClose=function(){a.setState({cookieSettingsOpen:!1})},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.mainRef.current&&!t.cookieSettingsOpen&&this.state.cookieSettingsOpen&&(this.mainRef.current.scrollTop=0)}},{key:"render",value:function(){return o.a.createElement("div",{className:_e.a.appContainer},o.a.createElement("div",{className:_e.a.mainContainer},o.a.createElement("div",{className:_e.a.main},o.a.createElement(de,null),o.a.createElement("main",{ref:this.mainRef,className:_e.a.content},o.a.createElement(He,{analyticsId:je.analyticsId,open:this.state.cookieSettingsOpen,onClose:this.handleClose},o.a.createElement("div",null,o.a.cloneElement(this.props.main,this.props)))),o.a.createElement(Ee,{onCookieBoxButtonClick:this.handleCookieBoxButtonClick}))),o.a.createElement(re.a,{minWidth:je.viewport.mobile},o.a.createElement("aside",{"data-testid":"mainMap",className:_e.a.mapContainer},o.a.cloneElement(this.props.map,this.props))))}}]),t}(n.Component),Qe=a(121),Je=a.n(Qe),qe=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:Je.a.notification,role:"alert","aria-live":"assertive"},this.props.children)}}]),t}(n.Component),Ve=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(W.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/access_token|id_token|error/.test(this.props.location.hash)){e.next=5;break}return e.next=3,this.props.auth.handleAuthentication();case 3:return e.next=5,this.props.auth.fetchProfile();case 5:this.props.auth.isAuthenticated()?(this.props.loggedIn(!0),this.props.setName(this.props.auth.getProfile().name),this.props.history.push(this.props.auth.redirectOnLogin()||"/")):this.props.history.push("/login");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(Ye,{main:o.a.createElement(re.a,{minWidth:je.viewport.mobile},o.a.createElement(qe,null,o.a.createElement("p",null,"Updating credentials"))),map:o.a.createElement(re.a,{minWidth:je.viewport.mobile},o.a.createElement(qe,null,o.a.createElement("p",null,"Updating credentials")))})}}]),t}(n.Component),Ke={loggedIn:te,setName:function(e){return{type:"AUTH/SET/NAME",payload:e}}},Xe=Object(p.b)((function(e){return{}}),Ke)(Ve),$e=a(16),et=a.n($e),tt=a(64);function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ot,rt="LOOS/FIND_NEARBY/REQUEST",it="LOOS/FIND_NEARBY/SUCCESS",st="LOOS/FIND_BY_ID_REQUEST/SUCCESS",ct="LOOS/REPORT/REQUEST",lt="LOOS/REMOVE/REQUEST",ut=function(e,t,a){return{type:rt,payload:{lng:e,lat:t,radius:a}}},pt=function(){return{type:"LOOS/FIND_NEARBY/START"}},mt=function(e){return{type:it,payload:{loos:e}}},ht=function(e){return{type:st,payload:{id:e}}},dt=function(e){return{type:"LOOS/FIND_BY_ID_SUCCESS/SUCCESS",payload:{loo:e}}},gt=function(e){return{type:"LOOS/UNCACHE/BY_ID",payload:e}},ft=function(e){return{type:"LOOS/REPORT/SUCCESS",payload:e}},bt=function(){return{type:"LOOS/REMOVE/SUCCESS"}},vt=(We={},Object(w.a)(We,"LOOS/UNCACHE/BY_ID",(function(e,t){return nt({},e,{byId:et.a.omit(e.byId,t.payload)})})),Object(w.a)(We,"LOOS/FIND_NEARBY/START",(function(e,t){return nt({},e,{loadingNearby:!0})})),Object(w.a)(We,it,(function(e,t){return nt({},e,{nearby:t.payload.loos||[],loadingNearby:!1})})),Object(w.a)(We,"LOOS/FIND_BY_ID_SUCCESS/SUCCESS",(function(e,t){return nt({},e,{byId:Object(w.a)({},t.payload.loo._id,t.payload.loo)})})),We),yt={byId:{},loadingNearby:!1};function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _t="MAP_CONTROLS/ZOOM",kt="MAP_CONTROLS/UPDATE_CENTER",wt=function(e){return{type:kt,payload:{center:e}}},At=function(e){return{type:"MAP_CONTROLS/UPDATE_CENTER_FINISH",payload:{center:e}}},Ct=function(e){return{type:"MAP_CONTROLS/HIGHLIGHT",payload:e}},jt=(ot={},Object(w.a)(ot,_t,(function(e,t){return Ot({},e,{zoom:t.payload.zoom})})),Object(w.a)(ot,"MAP_CONTROLS/UPDATE_CENTER_FINISH",(function(e,t){return Ot({},e,{center:t.payload.center})})),Object(w.a)(ot,"MAP_CONTROLS/HIGHLIGHT",(function(e,t){return Ot({},e,{highlight:t.payload})})),ot);var Nt=a(22),xt=a.n(Nt),Lt=function(e){return e.fullScreen?o.a.createElement("div",{className:xt.a.loading+" loading--zindexfix"},e.message):o.a.createElement(qe,null,o.a.createElement("p",null,e.message))},St=a(68),It=a.n(St),Mt=a(122),Tt=a.n(Mt),Bt=a(123),Ut=a.n(Bt),Pt=a(124),Dt=a.n(Pt),Rt=a(125),Gt=a.n(Rt),Ft=a(126),Zt=a.n(Ft),zt=a(127),Wt=a.n(zt),Ht={accessible:Tt.a,free:Ut.a,open:Dt.a,male:Gt.a,female:Zt.a,babychanging:Wt.a},Yt=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=je.checkPreferences(this.props.loo);return o.a.createElement("div",{className:It.a.preferenceIndicators},Object.keys(t).map((function(a,n){var r=t[a];return-1!==[!0,!1].indexOf(r)?o.a.createElement("img",{alt:a,key:n,src:Ht[a],className:r?It.a.preferenceIndicatorYes:It.a.preferenceIndicatorNo,style:{height:"".concat(e.props.iconSize,"rem"),width:"".concat(e.props.iconSize,"rem")}}):null})))}}]),t}(n.Component);Yt.defaultProps={iconSize:1};var Qt=Yt,Jt=a(25),qt=a(143),Vt=a(1),Kt=a.n(Vt),Xt=(a(204),a(205),a(232)),$t=a(231),ea=a(230),ta=a(45),aa=0,na=/[&<>"'`]/g,oa=/[&<>"'`]/,ra={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function ia(e){return ra[e]}function sa(e,t,a,n,o){var r="_l_geocoder_"+aa++;t[o||"callback"]=r,window[r]=Kt.a.Util.bind(a,n);var i=document.createElement("script");i.type="text/javascript",i.src=e+Kt.a.Util.getParamString(t),i.id=r,document.getElementsByTagName("head")[0].appendChild(i)}function ca(e,t,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status||304===n.status?a(JSON.parse(n.response)):a(""))},n.open("GET",e+Kt.a.Util.getParamString(t),!0),n.setRequestHeader("Accept","application/json"),n.send(null)}function la(e,t){return e.replace(/\{ *([\w_]+) *\}/g,(function(e,a){var n,o=t[a];return void 0===o?o="":"function"===typeof o&&(o=o(t)),null==(n=o)?"":n?(n=""+n,oa.test(n)?n.replace(na,ia):n):n+""}))}var ua={class:Kt.a.Class.extend({options:{serviceUrl:"https://nominatim.openstreetmap.org/",geocodingQueryParams:{},reverseQueryParams:{},htmlTemplate:function(e){var t=e.address,a=[];return(t.road||t.building)&&a.push("{building} {road} {house_number}"),(t.city||t.town||t.village||t.hamlet)&&a.push('<span class="'+(a.length>0?"leaflet-control-geocoder-address-detail":"")+'">{postcode} {city} {town} {village} {hamlet}</span>'),(t.state||t.country)&&a.push('<span class="'+(a.length>0?"leaflet-control-geocoder-address-context":"")+'">{state} {country}</span>'),la(a.join("<br/>"),t)}},initialize:function(e){Kt.a.Util.setOptions(this,e)},geocode:function(e,t,a){ca(this.options.serviceUrl+"search",Kt.a.extend({q:e,limit:5,format:"json",addressdetails:1},this.options.geocodingQueryParams),Kt.a.bind((function(e){for(var n=[],o=e.length-1;o>=0;o--){for(var r=e[o].boundingbox,i=0;i<4;i++)r[i]=parseFloat(r[i]);n[o]={icon:e[o].icon,name:e[o].display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(e[o]):void 0,bbox:Kt.a.latLngBounds([r[0],r[2]],[r[1],r[3]]),center:Kt.a.latLng(e[o].lat,e[o].lon),properties:e[o]}}t.call(a,n)}),this))},reverse:function(e,t,a,n){ca(this.options.serviceUrl+"reverse",Kt.a.extend({lat:e.lat,lon:e.lng,zoom:Math.round(Math.log(t/256)/Math.log(2)),addressdetails:1,format:"json"},this.options.reverseQueryParams),Kt.a.bind((function(e){var t,o=[];e&&e.lat&&e.lon&&(t=Kt.a.latLng(e.lat,e.lon),o.push({name:e.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(e):void 0,center:t,bounds:Kt.a.latLngBounds(t,t),properties:e})),a.call(n,o)}),this))}}),factory:function(e){return new Kt.a.Control.Geocoder.Nominatim(e)}},pa={class:Kt.a.Control.extend({options:{showResultIcons:!1,collapsed:!0,expand:"touch",position:"topright",placeholder:"Search...",errorMessage:"Nothing found.",queryMinLength:1,suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0},includes:Kt.a.Evented.prototype||Kt.a.Mixin.Events,initialize:function(e){Kt.a.Util.setOptions(this,e),this.options.geocoder||(this.options.geocoder=new ua.class),this._requestCount=0},onAdd:function(e){var t,a="leaflet-control-geocoder",n=Kt.a.DomUtil.create("div",a+" leaflet-bar"),o=Kt.a.DomUtil.create("button",a+"-icon",n),r=this._form=Kt.a.DomUtil.create("div",a+"-form",n);return this._map=e,this._container=n,o.innerHTML="&nbsp;",o.type="button",(t=this._input=Kt.a.DomUtil.create("input","",r)).type="text",t.placeholder=this.options.placeholder,Kt.a.DomEvent.disableClickPropagation(t),this._errorElement=Kt.a.DomUtil.create("div",a+"-form-no-error",n),this._errorElement.innerHTML=this.options.errorMessage,this._alts=Kt.a.DomUtil.create("ul",a+"-alternatives leaflet-control-geocoder-alternatives-minimized",n),Kt.a.DomEvent.disableClickPropagation(this._alts),Kt.a.DomEvent.addListener(t,"keydown",this._keydown,this),this.options.geocoder.suggest&&Kt.a.DomEvent.addListener(t,"input",this._change,this),Kt.a.DomEvent.addListener(t,"blur",(function(){this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1}),this),this.options.collapsed?"click"===this.options.expand?Kt.a.DomEvent.addListener(n,"click",(function(e){0===e.button&&2!==e.detail&&this._toggle()}),this):Kt.a.Browser.touch&&"touch"===this.options.expand?Kt.a.DomEvent.addListener(n,"touchstart mousedown",(function(e){this._toggle(),e.preventDefault(),e.stopPropagation()}),this):(Kt.a.DomEvent.addListener(n,"mouseover",this._expand,this),Kt.a.DomEvent.addListener(n,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):(this._expand(),Kt.a.Browser.touch?Kt.a.DomEvent.addListener(n,"touchstart",(function(){this._geocode()}),this):Kt.a.DomEvent.addListener(n,"click",(function(){this._geocode()}),this)),this.options.defaultMarkGeocode&&this.on("markgeocode",this.markGeocode,this),this.on("startgeocode",(function(){Kt.a.DomUtil.addClass(this._container,"leaflet-control-geocoder-throbber")}),this),this.on("finishgeocode",(function(){Kt.a.DomUtil.removeClass(this._container,"leaflet-control-geocoder-throbber")}),this),Kt.a.DomEvent.disableClickPropagation(n),n},_geocodeResult:function(e,t){if(t||1!==e.length)if(e.length>0){this._alts.innerHTML="",this._results=e,Kt.a.DomUtil.removeClass(this._alts,"leaflet-control-geocoder-alternatives-minimized");for(var a=0;a<e.length;a++)this._alts.appendChild(this._createAlt(e[a],a))}else Kt.a.DomUtil.addClass(this._errorElement,"leaflet-control-geocoder-error");else this._geocodeResultSelected(e[0])},markGeocode:function(e){return e=e.geocode||e,this._map.fitBounds(e.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new Kt.a.Marker(e.center).bindPopup(e.html||e.name).addTo(this._map).openPopup(),this},_geocode:function(e){var t=this._input.value;if(e||!(t===this._lastGeocode||t.length<this.options.queryMinLength)){var a=++this._requestCount,n=e?"suggest":"geocode",o={input:t};this._lastGeocode=t,e||this._clearResults(),this.fire("start"+n,o),this.options.geocoder[n](t,(function(t){a===this._requestCount&&(o.results=t,this.fire("finish"+n,o),this._geocodeResult(t,e))}),this)}},_geocodeResultSelected:function(e){this.fire("markgeocode",{geocode:e})},_toggle:function(){Kt.a.DomUtil.hasClass(this._container,"leaflet-control-geocoder-expanded")?this._collapse():this._expand()},_expand:function(){Kt.a.DomUtil.addClass(this._container,"leaflet-control-geocoder-expanded"),this._input.select(),this.fire("expand")},_collapse:function(){Kt.a.DomUtil.removeClass(this._container,"leaflet-control-geocoder-expanded"),Kt.a.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),Kt.a.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),this._input.blur(),this.fire("collapse")},_clearResults:function(){Kt.a.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),this._selection=null,Kt.a.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error")},_createAlt:function(e,t){var a=Kt.a.DomUtil.create("li",""),n=Kt.a.DomUtil.create("a","",a),o=this.options.showResultIcons&&e.icon?Kt.a.DomUtil.create("img","",n):null,r=e.html?void 0:document.createTextNode(e.name);return o&&(o.src=e.icon),a.setAttribute("data-result-index",t),e.html?n.innerHTML=n.innerHTML+e.html:n.appendChild(r),Kt.a.DomEvent.addListener(a,"mousedown touchstart",(function(t){this._preventBlurCollapse=!0,Kt.a.DomEvent.stop(t),this._geocodeResultSelected(e),Kt.a.DomEvent.on(a,"click",(function(){this.options.collapsed?this._collapse():this._clearResults()}),this)}),this),a},_keydown:function(e){var t=this,a=function(e){t._selection&&(Kt.a.DomUtil.removeClass(t._selection,"leaflet-control-geocoder-selected"),t._selection=t._selection[e>0?"nextSibling":"previousSibling"]),t._selection||(t._selection=t._alts[e>0?"firstChild":"lastChild"]),t._selection&&Kt.a.DomUtil.addClass(t._selection,"leaflet-control-geocoder-selected")};switch(e.keyCode){case 27:this.options.collapsed&&this._collapse();break;case 38:a(-1);break;case 40:a(1);break;case 13:if(this._selection){var n=parseInt(this._selection.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[n]),this._clearResults()}else this._geocode()}},_change:function(){var e=this._input.value;e!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),e.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(Kt.a.bind((function(){this._geocode(!0)}),this),this.options.suggestTimeout):this._clearResults())}}),factory:function(e){return new Kt.a.Control.Geocoder(e)}},ma={class:Kt.a.Class.extend({initialize:function(e){this.key=e},geocode:function(e,t,a){sa("https://dev.virtualearth.net/REST/v1/Locations",{query:e,key:this.key},(function(e){var n=[];if(e.resourceSets.length>0)for(var o=e.resourceSets[0].resources.length-1;o>=0;o--){var r=e.resourceSets[0].resources[o],i=r.bbox;n[o]={name:r.name,bbox:Kt.a.latLngBounds([i[0],i[1]],[i[2],i[3]]),center:Kt.a.latLng(r.point.coordinates)}}t.call(a,n)}),this,"jsonp")},reverse:function(e,t,a,n){sa("//dev.virtualearth.net/REST/v1/Locations/"+e.lat+","+e.lng,{key:this.key},(function(e){for(var t=[],o=e.resourceSets[0].resources.length-1;o>=0;o--){var r=e.resourceSets[0].resources[o],i=r.bbox;t[o]={name:r.name,bbox:Kt.a.latLngBounds([i[0],i[1]],[i[2],i[3]]),center:Kt.a.latLng(r.point.coordinates)}}a.call(n,t)}),this,"jsonp")}}),factory:function(e){return new Kt.a.Control.Geocoder.Bing(e)}},ha={class:Kt.a.Class.extend({options:{serviceUrl:"https://www.mapquestapi.com/geocoding/v1"},initialize:function(e,t){this._key=decodeURIComponent(e),Kt.a.Util.setOptions(this,t)},_formatName:function(){var e,t=[];for(e=0;e<arguments.length;e++)arguments[e]&&t.push(arguments[e]);return t.join(", ")},geocode:function(e,t,a){ca(this.options.serviceUrl+"/address",{key:this._key,location:e,limit:5,outFormat:"json"},Kt.a.bind((function(e){var n,o,r=[];if(e.results&&e.results[0].locations)for(var i=e.results[0].locations.length-1;i>=0;i--)n=e.results[0].locations[i],o=Kt.a.latLng(n.latLng),r[i]={name:this._formatName(n.street,n.adminArea4,n.adminArea3,n.adminArea1),bbox:Kt.a.latLngBounds(o,o),center:o};t.call(a,r)}),this))},reverse:function(e,t,a,n){ca(this.options.serviceUrl+"/reverse",{key:this._key,location:e.lat+","+e.lng,outputFormat:"json"},Kt.a.bind((function(e){var t,o,r=[];if(e.results&&e.results[0].locations)for(var i=e.results[0].locations.length-1;i>=0;i--)t=e.results[0].locations[i],o=Kt.a.latLng(t.latLng),r[i]={name:this._formatName(t.street,t.adminArea4,t.adminArea3,t.adminArea1),bbox:Kt.a.latLngBounds(o,o),center:o};a.call(n,r)}),this))}}),factory:function(e,t){return new Kt.a.Control.Geocoder.MapQuest(e,t)}},da={class:Kt.a.Class.extend({options:{serviceUrl:"https://api.tiles.mapbox.com/v4/geocode/mapbox.places-v1/",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(e,t){Kt.a.setOptions(this,t),this.options.geocodingQueryParams.access_token=e,this.options.reverseQueryParams.access_token=e},geocode:function(e,t,a){var n=this.options.geocodingQueryParams;"undefined"!==typeof n.proximity&&n.proximity.hasOwnProperty("lat")&&n.proximity.hasOwnProperty("lng")&&(n.proximity=n.proximity.lng+","+n.proximity.lat),ca(this.options.serviceUrl+encodeURIComponent(e)+".json",n,(function(e){var n,o,r,i=[];if(e.features&&e.features.length)for(var s=0;s<=e.features.length-1;s++)n=e.features[s],o=Kt.a.latLng(n.center.reverse()),r=n.hasOwnProperty("bbox")?Kt.a.latLngBounds(Kt.a.latLng(n.bbox.slice(0,2).reverse()),Kt.a.latLng(n.bbox.slice(2,4).reverse())):Kt.a.latLngBounds(o,o),i[s]={name:n.place_name,bbox:r,center:o};t.call(a,i)}))},suggest:function(e,t,a){return this.geocode(e,t,a)},reverse:function(e,t,a,n){ca(this.options.serviceUrl+encodeURIComponent(e.lng)+","+encodeURIComponent(e.lat)+".json",this.options.reverseQueryParams,(function(e){var t,o,r,i=[];if(e.features&&e.features.length)for(var s=0;s<=e.features.length-1;s++)t=e.features[s],o=Kt.a.latLng(t.center.reverse()),r=t.hasOwnProperty("bbox")?Kt.a.latLngBounds(Kt.a.latLng(t.bbox.slice(0,2).reverse()),Kt.a.latLng(t.bbox.slice(2,4).reverse())):Kt.a.latLngBounds(o,o),i[s]={name:t.place_name,bbox:r,center:o};a.call(n,i)}))}}),factory:function(e,t){return new Kt.a.Control.Geocoder.Mapbox(e,t)}},ga={class:Kt.a.Class.extend({options:{serviceUrl:"https://api.what3words.com/v2/"},initialize:function(e){this._accessToken=e},geocode:function(e,t,a){ca(this.options.serviceUrl+"forward",{key:this._accessToken,addr:e.split(/\s+/).join(".")},(function(e){var n,o,r=[];e.hasOwnProperty("geometry")&&(n=Kt.a.latLng(e.geometry.lat,e.geometry.lng),o=Kt.a.latLngBounds(n,n),r[0]={name:e.words,bbox:o,center:n}),t.call(a,r)}))},suggest:function(e,t,a){return this.geocode(e,t,a)},reverse:function(e,t,a,n){ca(this.options.serviceUrl+"reverse",{key:this._accessToken,coords:[e.lat,e.lng].join(",")},(function(e){var t,o,r=[];200===e.status.status&&(t=Kt.a.latLng(e.geometry.lat,e.geometry.lng),o=Kt.a.latLngBounds(t,t),r[0]={name:e.words,bbox:o,center:t}),a.call(n,r)}))}}),factory:function(e){return new Kt.a.Control.Geocoder.What3Words(e)}},fa={class:Kt.a.Class.extend({options:{serviceUrl:"https://maps.googleapis.com/maps/api/geocode/json",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(e,t){this._key=e,Kt.a.setOptions(this,t),this.options.serviceUrl=this.options.service_url||this.options.serviceUrl},geocode:function(e,t,a){var n={address:e};this._key&&this._key.length&&(n.key=this._key),n=Kt.a.Util.extend(n,this.options.geocodingQueryParams),ca(this.options.serviceUrl,n,(function(e){var n,o,r,i=[];if(e.results&&e.results.length)for(var s=0;s<=e.results.length-1;s++)n=e.results[s],o=Kt.a.latLng(n.geometry.location),r=Kt.a.latLngBounds(Kt.a.latLng(n.geometry.viewport.northeast),Kt.a.latLng(n.geometry.viewport.southwest)),i[s]={name:n.formatted_address,bbox:r,center:o,properties:n.address_components};t.call(a,i)}))},reverse:function(e,t,a,n){var o={latlng:encodeURIComponent(e.lat)+","+encodeURIComponent(e.lng)};o=Kt.a.Util.extend(o,this.options.reverseQueryParams),this._key&&this._key.length&&(o.key=this._key),ca(this.options.serviceUrl,o,(function(e){var t,o,r,i=[];if(e.results&&e.results.length)for(var s=0;s<=e.results.length-1;s++)t=e.results[s],o=Kt.a.latLng(t.geometry.location),r=Kt.a.latLngBounds(Kt.a.latLng(t.geometry.viewport.northeast),Kt.a.latLng(t.geometry.viewport.southwest)),i[s]={name:t.formatted_address,bbox:r,center:o,properties:t.address_components};a.call(n,i)}))}}),factory:function(e,t){return new Kt.a.Control.Geocoder.Google(e,t)}},ba={class:Kt.a.Class.extend({options:{serviceUrl:"https://photon.komoot.de/api/",reverseUrl:"https://photon.komoot.de/reverse/",nameProperties:["name","street","suburb","hamlet","town","city","state","country"]},initialize:function(e){Kt.a.setOptions(this,e)},geocode:function(e,t,a){var n=Kt.a.extend({q:e},this.options.geocodingQueryParams);ca(this.options.serviceUrl,n,Kt.a.bind((function(e){t.call(a,this._decodeFeatures(e))}),this))},suggest:function(e,t,a){return this.geocode(e,t,a)},reverse:function(e,t,a,n){var o=Kt.a.extend({lat:e.lat,lon:e.lng},this.options.reverseQueryParams);ca(this.options.reverseUrl,o,Kt.a.bind((function(e){a.call(n,this._decodeFeatures(e))}),this))},_decodeFeatures:function(e){var t,a,n,o,r,i,s=[];if(e&&e.features)for(t=0;t<e.features.length;t++)n=(a=e.features[t]).geometry.coordinates,o=Kt.a.latLng(n[1],n[0]),i=(r=a.properties.extent)?Kt.a.latLngBounds([r[1],r[0]],[r[3],r[2]]):Kt.a.latLngBounds(o,o),s.push({name:this._deocodeFeatureName(a),html:this.options.htmlTemplate?this.options.htmlTemplate(a):void 0,center:o,bbox:i,properties:a.properties});return s},_deocodeFeatureName:function(e){var t,a;for(t=0;!a&&t<this.options.nameProperties.length;t++)a=e.properties[this.options.nameProperties[t]];return a}}),factory:function(e){return new Kt.a.Control.Geocoder.Photon(e)}},va={class:Kt.a.Class.extend({options:{serviceUrl:"https://search.mapzen.com/v1",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(e,t){Kt.a.Util.setOptions(this,t),this._apiKey=e,this._lastSuggest=0},geocode:function(e,t,a){var n=this;ca(this.options.serviceUrl+"/search",Kt.a.extend({api_key:this._apiKey,text:e},this.options.geocodingQueryParams),(function(e){t.call(a,n._parseResults(e,"bbox"))}))},suggest:function(e,t,a){var n=this;ca(this.options.serviceUrl+"/autocomplete",Kt.a.extend({api_key:this._apiKey,text:e},this.options.geocodingQueryParams),Kt.a.bind((function(e){e.geocoding.timestamp>this._lastSuggest&&(this._lastSuggest=e.geocoding.timestamp,t.call(a,n._parseResults(e,"bbox")))}),this))},reverse:function(e,t,a,n){var o=this;ca(this.options.serviceUrl+"/reverse",Kt.a.extend({api_key:this._apiKey,"point.lat":e.lat,"point.lon":e.lng},this.options.reverseQueryParams),(function(e){a.call(n,o._parseResults(e,"bounds"))}))},_parseResults:function(e,t){var a=[];return Kt.a.geoJson(e,{pointToLayer:function(e,t){return Kt.a.circleMarker(t)},onEachFeature:function(e,n){var o,r,i={};n.getBounds?r=(o=n.getBounds()).getCenter():(r=n.getLatLng(),o=Kt.a.latLngBounds(r,r)),i.name=n.feature.properties.label,i.center=r,i[t]=o,i.properties=n.feature.properties,a.push(i)}}),a}}),factory:function(e,t){return new Kt.a.Control.Geocoder.Mapzen(e,t)}},ya={class:Kt.a.Class.extend({options:{service_url:"http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"},initialize:function(e,t){Kt.a.setOptions(this,t),this._accessToken=e},geocode:function(e,t,a){var n={SingleLine:e,outFields:"Addr_Type",forStorage:!1,maxLocations:10,f:"json"};this._key&&this._key.length&&(n.token=this._key),ca(this.options.service_url+"/findAddressCandidates",n,(function(e){var n,o,r,i=[];if(e.candidates&&e.candidates.length)for(var s=0;s<=e.candidates.length-1;s++)n=e.candidates[s],o=Kt.a.latLng(n.location.y,n.location.x),r=Kt.a.latLngBounds(Kt.a.latLng(n.extent.ymax,n.extent.xmax),Kt.a.latLng(n.extent.ymin,n.extent.xmin)),i[s]={name:n.address,bbox:r,center:o};t.call(a,i)}))},suggest:function(e,t,a){return this.geocode(e,t,a)},reverse:function(e,t,a,n){var o={location:encodeURIComponent(e.lng)+","+encodeURIComponent(e.lat),distance:100,f:"json"};ca(this.options.service_url+"/reverseGeocode",o,(function(e){var t,o=[];e&&!e.error&&(t=Kt.a.latLng(e.location.y,e.location.x),o.push({name:e.address.Match_addr,center:t,bounds:Kt.a.latLngBounds(t,t)})),a.call(n,o)}))}}),factory:function(e,t){return new Kt.a.Control.Geocoder.ArcGis(e,t)}},Ea={class:Kt.a.Class.extend({options:{geocodeUrl:"http://geocoder.api.here.com/6.2/geocode.json",reverseGeocodeUrl:"http://reverse.geocoder.api.here.com/6.2/reversegeocode.json",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",geocodingQueryParams:{},reverseQueryParams:{}},initialize:function(e){Kt.a.setOptions(this,e)},geocode:function(e,t,a){var n={searchtext:e,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1};n=Kt.a.Util.extend(n,this.options.geocodingQueryParams),this.getJSON(this.options.geocodeUrl,n,t,a)},reverse:function(e,t,a,n){var o={prox:encodeURIComponent(e.lat)+","+encodeURIComponent(e.lng),mode:"retrieveAddresses",app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1};o=Kt.a.Util.extend(o,this.options.reverseQueryParams),this.getJSON(this.options.reverseGeocodeUrl,o,a,n)},getJSON:function(e,t,a,n){ca(e,t,(function(e){var t,o,r,i=[];if(e.response.view&&e.response.view.length)for(var s=0;s<=e.response.view[0].result.length-1;s++)t=e.response.view[0].result[s].location,o=Kt.a.latLng(t.displayPosition.latitude,t.displayPosition.longitude),r=Kt.a.latLngBounds(Kt.a.latLng(t.mapView.topLeft.latitude,t.mapView.topLeft.longitude),Kt.a.latLng(t.mapView.bottomRight.latitude,t.mapView.bottomRight.longitude)),i[s]={name:t.address.label,bbox:r,center:o};a.call(n,i)}))}}),factory:function(e){return new Kt.a.Control.Geocoder.HERE(e)}},Oa=Kt.a.Util.extend(pa.class,{Nominatim:ua.class,nominatim:ua.factory,Bing:ma.class,bing:ma.factory,MapQuest:ha.class,mapQuest:ha.factory,Mapbox:da.class,mapbox:da.factory,What3Words:ga.class,what3words:ga.factory,Google:fa.class,google:fa.factory,Photon:ba.class,photon:ba.factory,Mapzen:va.class,mapzen:va.factory,ArcGis:ya.class,arcgis:ya.factory,HERE:Ea.class,here:Ea.factory});Kt.a.Util.extend(Kt.a.Control,{Geocoder:Oa,geocoder:pa.factory});var _a=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"createLeafletElement",value:function(){var e=Kt.a.Control.geocoder({geocoder:new Kt.a.Control.Geocoder.nominatim({geocodingQueryParams:{countrycodes:"gb"}}),collapsed:!0,placeholder:"Placename or postcode..."});return e.markGeocode=function(e){return this._map.setView(e.geocode.center),this},e}}]),t}(ea.a),ka=Object(ta.b)(_a),wa=(a(208),function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"createLeafletElement",value:function(){return Kt.a.control.locate({drawCircle:!0,follow:!0,keepCurrentZoomLevel:!0,icon:xt.a.locate,iconLoading:xt.a.locate,showPopup:!1,onLocationError:Function.prototype,onLocationOutsideMapBounds:Function.prototype})}}]),t}(ea.a)),Aa=Object(ta.b)(wa),Ca=a(129),ja=a(65),Na=a.n(ja),xa=function(){return o.a.createElement(Ca.HashLink,{to:"/use-our-loos",title:"Domestos - Use Our Loos Campaign",className:ue.a.wrapper,scroll:function(e){return e.scrollIntoView(!0)}},o.a.createElement("img",{src:Na.a,alt:"Domestos",className:ue.a.useOurLoosLogoImage}))},La=a(130),Sa=a.n(La),Ia=a(131),Ma=a.n(Ia),Ta=a(132),Ba=a.n(Ta),Ua=a(133),Pa=a.n(Ua);function Da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Da(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Da(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}Kt.a.LooIcon=Kt.a.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12.5,41],highlight:!1,looId:null},initialize:function(e){e.highlight?this.options=Ra({},this.options,{iconUrl:Ba.a,iconRetinaUrl:Pa.a,className:xt.a.markerHighlighted}):this.options=Ra({},this.options,{iconUrl:Sa.a,iconRetinaUrl:Ma.a}),Kt.a.Util.setOptions(this,e)},createIcon:function(){if(!this.options.index){var e=this._createImg(this._getIconUrl("icon"));return this._setIconStyles(e,"icon"),e.setAttribute("data-testid","looMarker:"+this.options.looId),e}var t=document.createElement("div");t.style.background="url('".concat(this._getIconUrl("icon"),"')"),t.style.backgroundSize="100% 100%",t.setAttribute("data-testid","looMarker:"+this.options.looId),this._setIconStyles(t,"icon");var a=document.createElement("div");return a.setAttribute("class",xt.a.index),a.innerHTML=this.options.index,t.appendChild(a),t}});var Ga=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).onZoom=a.onZoom.bind(Object(Jt.a)(a)),a.onMove=et.a.debounce(a.onMove.bind(Object(Jt.a)(a)),500,{leading:!1,trailing:!0}),a.state={clusterLayer:null},a.onMarkerClick=a.onMarkerClick.bind(Object(Jt.a)(a)),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){if(this.refs.map&&this.refs.map.leafletElement){var e=this.leafletElement=this.refs.map.leafletElement,t=e.getCenter(),a=Kt.a.markerClusterGroup({showCoverageOnHover:!1,disableClusteringAtZoom:15,iconCreateFunction:function(e){var t=e.getChildCount();return Kt.a.divIcon({html:"<div class=".concat(xt.a.cluster,">\n                              <span class=").concat(xt.a.count,">").concat(t,"</span>\n                              toilets\n                          </div>")})}});this.leafletElement.addLayer(a),this.setState({clusterLayer:a,markers:{}})}this.props.onInitialised(e),this.props.onUpdateCenter(t)}},{key:"onMove",value:function(e){var t=this.leafletElement.getCenter();this.props.onUpdateCenter(t),this.props.onMove(t.lng,t.lat)}},{key:"onZoom",value:function(e){var t=this.leafletElement.getZoom();this.props.onZoom(t)}},{key:"onMarkerClick",value:function(e){this.props.activeMarkers&&this.props.history.push("/loos/"+e._id)}},{key:"componentDidUpdate",value:function(e,t){if(t.clusterLayer===this.state.clusterLayer){if(e.loos!==this.props.loos||e.highlight!==this.props.highlight||e.countLimit!==this.props.countLimit||e.countFrom!==this.props.countFrom){for(var a=et.a.keyBy(e.loos,"_id"),n=et.a.keyBy(this.props.loos,"_id"),o=0,r=Object.keys(n);o<r.length;o++){var i=r[o];a.hasOwnProperty(i)&&et.a.isEqual(a[i].geometry,n[i].geometry)&&(delete a[i],delete n[i])}this.addRemoveMarkers(n,a)}}else this.addRemoveMarkers(et.a.keyBy(this.props.loos,"_id"),{})}},{key:"addRemoveMarkers",value:function(e,t){for(var a=Ra({},this.state.markers),n=[],o=0,r=Object.keys(t);o<r.length;o++){var i=r[o];n.push(a[i]),delete a[i]}this.state.clusterLayer.removeLayers(n);for(var s=[],c=0,l=Object.entries(e);c<l.length;c++){var u=l[c],p=Object(qt.a)(u,2),m=p[0],h=p[1],d=this.props.highlight&&h._id===this.props.highlight,g={lat:h.properties.geometry.coordinates[1],lng:h.properties.geometry.coordinates[0]},f=new Kt.a.LooIcon({highlight:d,looId:m}),b=Kt.a.marker(g,{icon:f});b.on("click",et.a.partial(this.onMarkerClick,h)),s.push(b),a[m]=b}this.state.clusterLayer.addLayers(s);for(var v=0;v<this.props.loos.length;v++){var y=this.props.loos[v],E=void 0;v<this.props.countLimit&&(E=this.props.countFrom+v);var O=!1;this.props.highlight&&y._id===this.props.highlight&&(O=!0);var _=a[y._id].options.icon.options;_.index===E&&_.highlight===O||a[y._id].setIcon(new Kt.a.LooIcon({highlight:O,index:E,looId:y._id}))}this.setState(Ra({},this.state,{markers:a}))}},{key:"render",value:function(){var e=this.props.initialPosition;this.leafletElement&&(e=this.leafletElement.getCenter());var t=this.props.className;return this.props.showCenter&&(t+=" ".concat(xt.a["with-crosshair"]),t+=" map--zindexfix"),o.a.createElement(Xt.a,{ref:"map",center:e,zoom:this.props.initialZoom,zoomControl:!this.props.preventZoom&&this.props.showZoomControls,scrollWheelZoom:!this.props.preventZoom,dragging:!this.props.preventDragging,className:t,onMove:this.onMove,onZoomend:this.onZoom,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,loadingControl:!0,tap:!1},o.a.createElement($t.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,contributor:this.props.showcontributor?'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors':""}),this.props.showSearchControl&&o.a.createElement(ka,null),this.props.showLocateControl&&o.a.createElement(Aa,null),o.a.createElement(xa,null))}}]),t}(n.Component);Ga.defaultProps={loos:[],className:xt.a.map,initialZoom:je.initialZoom,minZoom:je.minZoom,maxZoom:je.maxZoom,preventZoom:!1,preventDragging:!1,showSearchControl:!1,showLocateControl:!1,showZoomControls:!0,showcontributor:!1,showCenter:!1,countLimit:0,countFrom:1,onMove:Function.prototype,onZoom:Function.prototype,onInitialised:Function.prototype,onUpdateCenter:Function.prototype,activeMarkers:!0};var Fa=Object(k.a)(Ga),Za=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).onUpdateCenter=a.onUpdateCenter.bind(Object(Jt.a)(a)),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.looMap&&this.props.loadingNearby&&this.looMap.refs.map.leafletElement.fire("dataloading")}},{key:"componentDidUpdate",value:function(e){this.looMap&&this.props.loadingNearby!==e.loadingNearby&&(this.props.loadingNearby?this.looMap.refs.map.leafletElement.fire("dataloading"):this.looMap.refs.map.leafletElement.fire("dataload"))}},{key:"onUpdateCenter",value:function(e){var t=e.lng,a=e.lat;this.props.actionUpdateCenter({lat:a,lng:t})}},{key:"render",value:function(){var e,t=this,a=this.props.loos,n=this.props.loo;n&&(e={lat:n.properties.geometry.coordinates[1],lng:n.properties.geometry.coordinates[0]});var r=e||this.props.map.center||this.props.geolocation.position;return o.a.createElement("div",{className:xt.a.map},!a&&o.a.createElement("div",{className:xt.a.loading},"Fetching toilets\u2026"),o.a.createElement(Fa,Object.assign({wrappedComponentRef:function(e){return t.looMap=e},loos:a,countLimit:this.props.numberNearest?5:0,showcontributor:!0,showLocation:!0,showSearchControl:!0,showLocateControl:!0,showCenter:!0,onZoom:this.props.actionZoom,onUpdateCenter:this.onUpdateCenter,initialZoom:this.props.map.zoom,initialPosition:r,highlight:this.props.map.highlight},this.props.mapProps)))}}]),t}(n.Component),za={actionZoom:function(e){return{type:_t,payload:{zoom:e}}},actionUpdateCenter:wt},Wa=Object(p.b)((function(e){return{geolocation:e.geolocation,map:e.mapControls,loos:e.loos.nearby,loadingNearby:e.loos.loadingNearby}}),za)(Za),Ha=a(39),Ya=a.n(Ha),Qa=a(17),Ja=a.n(Qa),qa=a(69),Va=a.n(qa),Ka={looProps:{canHumanize:["accessibleType","attended","babyChange","automatic","radar"],definitions:{opening:ke.definitions,type:[{name:"Female",value:"female"},{name:"Male",value:"male"},{name:"Female and Male",value:"female and male"},{name:"Unisex",value:"unisex"},{name:"Male Urinal",value:"male urinal"},{name:"Children Only",value:"children only"},{name:"None",value:"none"}],access:[{name:"Public",value:"public"},{name:"Non-customers permitted",value:"permissive"},{name:"Customers only",value:"customers only"}]}},humanizePropertyValue:function(e,t){if(this.looProps.definitions[t]){var a=this.looProps.definitions[t].find((function(t){return t.value===e}));if(a)return a.name}return this.looProps.canHumanize.includes(t)||"fee"===t&&"false"===e?this.humanizeAPIValue(e):e},humanizeAPIValue:function(e){return void 0===e||null===e?"Not known":("string"===typeof e&&(e=e.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})).trim()),("boolean"===typeof e||"string"===typeof e&&-1!==["true","false"].indexOf(e.toLowerCase()))&&(e=JSON.parse((e+"").toLowerCase())?"Yes":"No"),"0.00"===e&&(e="Free"),e)}},Xa=a(35),$a=a.n(Xa),en=new(function(){function e(){Object(v.a)(this,e),e.instance||(e.instance=this)}return Object(y.a)(e,[{key:"findLoos",value:function(){var e=Object(W.a)(z.a.mark((function e(t,a,n){var o,r,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Va.a.stringify({radius:n}),r="".concat("/api","/loos/v2/near/").concat(t,"/").concat(a,"?").concat(o),e.next=4,$a()({url:r,headers:{Accept:"application/json"}});case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"findLooById",value:function(){var e=Object(W.a)(z.a.mark((function e(t,a){var n,o,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Va.a.stringify(a),o="".concat("/api","/loos/v2/").concat(t,"?").concat(n),e.next=4,$a()({url:o,headers:{Accept:"application/json"}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchLoos",value:function(){var e=Object(W.a)(z.a.mark((function e(t){var a,n,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Va.a.stringify(t),n="".concat("/api","/search?").concat(a),e.next=4,$a()({url:n,headers:{Accept:"application/json"}});case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"reportLoo",value:function(){var e=Object(W.a)(z.a.mark((function e(t,a,n){var o,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat("/api","/reports"),e.next=3,$a()({url:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},method:"post",data:{report:t,from:n?n._id:null}});case 3:if(201===(r=e.sent).status){e.next=6;break}throw new Error(r.statusText);case 6:return e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"removeLoo",value:function(){var e=Object(W.a)(z.a.mark((function e(t,a,n){var o,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat("/api","/reports/").concat(t),e.next=3,$a()({url:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},method:"delete",data:{removal_reason:a}});case 3:if(200===(r=e.sent).status){e.next=6;break}throw new Error(r.statusText);case 6:return e.abrupt("return",r.status);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"fetchAreaData",value:function(){var e=Object(W.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("/api","/admin_geo/areas"),e.next=3,$a()(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchContributors",value:function(){var e=Object(W.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("/api","/statistics/contributors"),e.next=3,$a()(t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}());Object.freeze(en);var tn=en,an=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).humanizedPropNames={type:"Facilities",accessibleType:"Accessible facilities",babyChange:"Baby Changing",attended:"Attended",access:"Who can access?",radar:"Radar key",fee:"Fee",removal_reason:"Removed"},a.propertiesSort=["access","type","accessibleType","opening","attended","babyChange","automatic","radar","fee","notes"],a.propertiesBlacklist=["orig","active","area","name","geocoded","geocoding_method","toObject"],a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.loo||this.props.actionFindByIdRequest(this.props.match.params.id),this.props.actionHighlight(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&(this.props.loo||this.props.actionFindByIdRequest(this.props.match.params.id),this.props.actionHighlight(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.actionHighlight(null)}},{key:"getPropertyNames",value:function(){var e=Object.keys(this.props.loo.properties),t=et.a.intersection(this.propertiesSort,e),a=et.a.difference(e,t,this.propertiesBlacklist);return a.sort(),t.concat(a)}},{key:"humanizePropertyName",value:function(e){return this.humanizedPropNames[e]?this.humanizedPropNames[e]:Ka.humanizeAPIValue(e)}},{key:"renderMain",value:function(){var e=this,t=this.props.loo,a=this.getPropertyNames();return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"),o.a.createElement("a",{href:"https://maps.apple.com/?dirflg=w&daddr="+[t.properties.geometry.coordinates[1],t.properties.geometry.coordinates[0]],className:Pe.a.btn,target:"_blank",rel:"noopener noreferrer"},"Get Directions"),je.allowAddEditLoo&&o.a.createElement(ce.a,{to:"/loos/".concat(t._id,"/edit"),className:Pe.a.btn},"Edit toilet"))),o.a.createElement("h2",{className:Ja.a.large},t.properties.name||"Toilet"),o.a.createElement("div",{className:Ya.a.preferenceIndicators},o.a.createElement(Qt,{loo:t,iconSize:2.5})),o.a.createElement(re.a,{maxWidth:je.viewport.mobile},o.a.createElement("div",{className:Ya.a.mobileMap},this.renderMap())),o.a.createElement("ul",{className:Ya.a.properties},a.map((function(a){var n=Ka.humanizePropertyValue(t.properties[a],a);return"Not known"!==n&&""!==n&&"object"!==typeof n?o.a.createElement("li",{className:Ya.a.property,key:a},o.a.createElement("h3",{className:Ya.a.propertyName},e.humanizePropertyName(a)),o.a.createElement("p",{className:Ya.a.propertyValue},n)):null}))),o.a.createElement("h3",{className:Ja.a.small},"Data"),o.a.createElement("p",null,"Last updated:"," ",tt.DateTime.fromISO(t.updatedAt).toLocaleString(tt.DateTime.DATETIME_MED)),o.a.createElement("p",null,"View more detailed data about this Toilet at"," ",o.a.createElement("a",{href:"/explorer/loos/".concat(t._id),target:"_blank",rel:"noopener noreferrer"},"Toilet Map Explorer"),"."))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,{loo:this.props.loo,mapProps:{showLocation:!1,showSearchControl:!1,showLocateControl:!1,showCenter:!1,countLimit:null}})}},{key:"render",value:function(){return this.props.loo?o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()}):o.a.createElement(Ye,{main:o.a.createElement(Lt,{message:"Fetching Toilet Data"}),map:o.a.createElement(Lt,{message:"Fetching Toilet Data"})})}}]),t}(n.Component),nn={actionFindByIdRequest:ht,actionHighlight:Ct},on=Object(p.b)((function(e,t){return{app:e.app,loo:e.loos.byId[t.match.params.id]||null}}),nn)(an),rn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).updateReason=function(e){var t=e.currentTarget.value;a.setState((function(){return{reason:t}}))},a.doSubmit=function(){a.props.actionRemoveRequest(a.props.loo._id,a.state.reason)},a.state={reason:""},a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.loo||this.props.actionFindByIdRequest(this.props.match.params.id)}},{key:"renderMain",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"))),o.a.createElement("h2",{className:Ja.a.large},"Toilet Remover"),o.a.createElement("p",null,"Please let us know why you're removing this toilet from the map using the form below."),o.a.createElement("label",null,"Reason for removal",o.a.createElement("textarea",{type:"text",name:"reason",className:Pe.a.text,value:this.state.reason,onChange:this.updateReason})),o.a.createElement("button",{onClick:this.doSubmit,className:Pe.a.btnCaution},"Remove it"))}},{key:"renderMap",value:function(){var e={lat:this.props.loo.properties.geometry.coordinates[1],lng:this.props.loo.properties.geometry.coordinates[0]};return o.a.createElement(Fa,{loos:[this.props.loo],initialPosition:e,highlight:this.props.loo._id,showLocation:!1,showSearchControl:!1,showLocateControl:!1,showCenter:!1,preventDragging:!0,preventZoom:!0,minZoom:je.editMinZoom})}},{key:"render",value:function(){return this.props.loo?o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()}):o.a.createElement(Ye,{main:o.a.createElement(Lt,{message:"Fetching Toilet Data"}),map:o.a.createElement(Lt,{message:"Fetching Toilet Data"})})}}]),t}(n.Component),sn={actionRemoveRequest:function(e,t){return{type:lt,payload:{looId:e,reason:t}}},actionFindByIdRequest:ht},cn=Object(p.b)((function(e,t){return{app:e.app,loo:e.loos.byId[t.match.params.id]||null}}),sn)(rn),ln=a(70),un=a.n(ln),pn=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).state={dimissed:!1},a.onDismiss=a.onDismiss.bind(Object(Jt.a)(a)),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"onDismiss",value:function(){var e=this.props.persistKey;this.setState({dismissed:!0}),e&&je.setSetting("dismissed",e,!0),this.props.onDismiss()}},{key:"render",value:function(){var e=this.props.persistKey;return this.state.dismissed||e&&je.getSetting("dismissed",e)?null:o.a.createElement("div",{className:un.a.container},o.a.createElement("h2",{className:un.a.title},this.props.title),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.content}}),o.a.createElement("button",{className:un.a.close,onClick:this.onDismiss},"\u2716"))}}]),t}(n.Component);pn.defaultProps={onDismiss:Function.prototype};var mn=pn,hn=a(48),dn=a.n(hn);function gn(e,t){var a=Math.pow(10,t||0);return Math.round(e*a)/a}var fn=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e,t=this.props.loo,a=[this.props.loo.properties.geometry.coordinates[1],this.props.loo.properties.geometry.coordinates[0]];return o.a.createElement(ce.a,{"data-testid":"loo:".concat(t._id),to:"/loos/".concat(t._id),className:dn.a.container,onMouseOver:this.props.onHoverStart,onMouseOut:this.props.onHoverEnd},o.a.createElement(Fa,{countFrom:this.props.index,countLimit:1,showZoomControls:!1,preventZoom:!0,preventDragging:!0,loos:[t],initialPosition:a,activeMarkers:!1}),o.a.createElement("div",{className:dn.a.link},o.a.createElement("div",{className:dn.a.preferenceIndicators},o.a.createElement(Qt,{loo:t,iconSize:1.4})),o.a.createElement("span",{className:dn.a.linkText},"More info")),o.a.createElement("div",{className:dn.a.distance+" distance--zindexfix"},(e=t.distance)<1e3?"".concat(gn(e,0),"m"):"".concat(gn(e/1e3,1),"km")))}}]),t}(n.Component);fn.defaultProps={onHoverStart:Function.prototype,onHoverEnd:Function.prototype};var bn=fn,vn=a(49),yn=a.n(vn);function En(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var On=function(){return{type:"APP/TOGGLE_VIEW_MODE/REQUEST"}},_n=(Object(w.a)({},"APP/TOGGLE_VIEW_MODE/REQUEST",On),Object(w.a)({},"APP/TOGGLE_VIEW_MODE/REQUEST",(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?En(a,!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):En(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{viewMode:"map"===e.viewMode?"list":"map"})}))),kn={viewMode:"map"};var wn=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.mapControls.center;this.props.loos||this.props.actionUpdateCenter(e)}},{key:"componentWillUnmount",value:function(){this.props.actionHighlight(null)}},{key:"renderList",value:function(e){var t=this,a=this.props.loos;return!a||this.props.loadingNearby&&e?o.a.createElement(qe,null,o.a.createElement("p",null,"Fetching toilets\u2026")):a&&!a.length?o.a.createElement(qe,null,o.a.createElement("p",null,"No toilets found within ",je.nearestRadius/1e3,"km.")):o.a.createElement("div",null,o.a.createElement("h2",{className:Ja.a.large},"Nearest Toilets"),o.a.createElement("ul",{className:yn.a.looList},a&&a.slice(0,je.nearestListLimit).map((function(e,a){return o.a.createElement("li",{key:e._id,className:yn.a.looListItem},o.a.createElement(bn,{loo:e,onHoverStart:et.a.partial(t.props.actionHighlight,e._id),onHoverEnd:et.a.partial(t.props.actionHighlight,void 0),index:a+1}))}))))}},{key:"renderWelcome",value:function(){var e="\n            <p>The ".concat(je.nearestListLimit," nearest toilets are listed below. Click more info to find out about\n            each toilet's features.</p><p>You can set preferences to highlight toilets that meet your specific\n            needs.</p>\n        ");return o.a.createElement(mn,{persistKey:"home-welcome",title:"Hi!",content:e})}},{key:"renderMain",value:function(){var e=this.props.app.viewMode;return o.a.createElement("div",{className:yn.a.container},this.props.isAuthenticated&&o.a.createElement(qe,null,o.a.createElement("p",null,"Logged in. ",o.a.createElement("button",{onClick:this.props.doLogout},"Log out"))),o.a.createElement("div",{className:_e.a.controls},je.allowAddEditLoo&&o.a.createElement(ce.a,{to:"/report",className:Pe.a.btn,"data-testid":"add-a-toilet"},"Add a toilet"),o.a.createElement(re.a,{maxWidth:je.viewport.mobile},o.a.createElement("button",{className:Pe.a.btn,onClick:this.props.actionToggleViewMode},"list"===e?"View map":"View list"))),o.a.createElement(re.a,{maxWidth:je.viewport.mobile,className:yn.a.mobileContent},"list"===e&&this.renderWelcome(),"list"===e&&this.renderList(!0),"map"===e&&o.a.createElement("div",{className:yn.a.mobileMap},o.a.createElement("div",{className:xt.a.map},this.renderMap()))),o.a.createElement(re.a,{minWidth:je.viewport.mobile},this.renderWelcome(),this.renderList(!1)))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,{numberNearest:!0})}},{key:"render",value:function(){return o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()})}}]),t}(n.Component),An={actionHighlight:Ct,actionUpdateCenter:wt,actionToggleViewMode:On,doLogout:ee,doLogin:$},Cn=Object(p.b)((function(e){return{geolocation:e.geolocation,mapControls:e.mapControls,loos:e.loos.nearby,app:e.app,isAuthenticated:e.auth.isAuthenticated,loadingNearby:e.loos.loadingNearby}}),An)(wn),jn=a(55),Nn=a.n(jn),xn=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"renderMain",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"))),o.a.createElement("h2",{id:"about",className:Ja.a.regular},"About the map"),o.a.createElement("p",null,"The Great British Public Toilet Map is the UK's largest database of publicly-accessible toilets, with over 11000 facilities."),o.a.createElement("p",null,"It is run by"," ",o.a.createElement("a",{href:"https://publicconvenience.org",target:"_blank",rel:"noopener noreferrer"},"Public Convenience"),", a joint venture between researchers Dr Jo-Anne Bichard and Gail Ramster (who created the map at the"," ",o.a.createElement("a",{href:"http://www.rca.ac.uk/research-innovation/helen-hamlyn-centre",target:"_blank",rel:"noopener noreferrer"},"RCA Helen Hamlyn Centre for Design"),") and software development company"," ",o.a.createElement("a",{href:"https://neontribe.co.uk",target:"_blank",rel:"noopener noreferrer"},"Neontribe")," ","(who designed and built it)."),o.a.createElement("div",{className:_e.a.bandedSection},o.a.createElement("div",{className:_e.a.bandedSectionText},o.a.createElement("div",{className:_e.a.mainContainer},o.a.createElement("h2",{id:"use-our-loos",className:Ja.a.regular},"Use Our Loos"),o.a.createElement("p",null,"We all need toilets. When you need to go, you need to go. At home or in an office this isn\u2019t a problem. However, out and about, are you sure there\u2019s somewhere to go when the need arises?"),o.a.createElement("p",null,"Across the UK, more than one in every three public toilets have been closed over the last two decades. Some councils are already without a single free-to-use public convenience."),o.a.createElement("p",null,o.a.createElement("strong",null,"Use Our Loos")," is the first national community toilet scheme, created by the"," ",o.a.createElement("a",{href:"http://www.btaloos.co.uk",target:"_blank",rel:"noopener noreferrer"},"British Toilet Association"),","," ",o.a.createElement("a",{href:"http://www.domestos.co.uk",target:"_blank",rel:"noopener noreferrer"},"Domestos")," ","and the ",o.a.createElement("strong",null,"Great British Public Toilet Map"),", with the ambition to unlock the loos that are hidden in high street cafes, restaurants, coffee shops and bars and open them up to the community."),o.a.createElement("p",null,"As more public loos are closed, we\u2019re asking that more loos are made public."),o.a.createElement("p",null,"We\u2019re inviting businesses to sign up and welcome everyone, customers and non-customers, to use their loos. In return, we\u2019re providing them with free Domestos product, directing people to their venues and driving local fame so they will benefit from increased customers and a stronger connection to their community."),o.a.createElement("p",null,"We\u2019re inviting the public to use our map to discover loos near them and to help us improve the service by adding new locations or flagging loos that have closed."),o.a.createElement("p",null,"To register your business for the Use Our Loos campaign please contact"," ",o.a.createElement("a",{href:"mailto:useourloos@gmail.com",target:"_blank",rel:"noopener noreferrer"},"useourloos@gmail.com")),o.a.createElement("p",null,"You can also register your interest"," ",o.a.createElement("a",{href:"https://goo.gl/forms/JRw6J7yoDe46YIB23",target:"_blank",rel:"noopener noreferrer"},"here."))))),o.a.createElement("h2",{id:"contributing",className:Ja.a.regular},"Thinking about adding a toilet?"),o.a.createElement("p",null,"A publicly-accessible toilet means any toilet that the public are allowed to access without needing to be a customer."),o.a.createElement("h3",{className:Ja.a.small},"Public toilets"),o.a.createElement("ul",{className:Nn.a.inset},o.a.createElement("li",null,"Council-run toilets and other public toilet blocks"),o.a.createElement("li",null,"Toilets in train stations, bus stations, service/petrol stations, tube stations, ferry terminals, airports and other transport networks"),o.a.createElement("li",null,"Shopping centre toilets")),o.a.createElement("h3",{className:Ja.a.small},"Other publicly-accessible toilets"),o.a.createElement("ul",{className:Nn.a.inset},o.a.createElement("li",null,"Toilets in public buildings, such as town halls, libraries, hospitals, museums and leisure centres"),o.a.createElement("li",null,"Toilets in other businesses where the business agrees that the public can use their toilets without having to buy anything. These are often part of Community Toilet Schemes (run by councils) and can include shops, cafes, supermarkets, restaurants, hotels and pubs")),o.a.createElement("p",null,o.a.createElement("strong",null,"We try not to show toilets where you need to ask permission to use it"),", such as those that are for customers-only. The exception is platform-side toilets at stations. These are only accessible to ticket-holders but we feel it is useful information to include."),o.a.createElement("p",null,"Anyone can go on the website and"," ",o.a.createElement("strong",null,"add, edit or remove toilets"),". We also use open data including from the"," ",o.a.createElement("a",{href:"https://www.openstreetmap.org",target:"_blank",rel:"noopener noreferrer"},"OpenStreetMap")," ","project and request information from councils, private companies and organisations."),o.a.createElement("p",null,o.a.createElement("strong",null,"If you have any problems updating the toilets, or wish to send us toilet details or comments, please contact"," ",o.a.createElement("a",{href:"mailto:gbtoiletmap@gmail.com"},"gbtoiletmap@gmail.com"),".")))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,{numberNearest:!0})}},{key:"render",value:function(){return o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()})}}]),t}(n.Component),Ln=a(32),Sn=a.n(Ln),In=a(67),Mn=a.n(In),Tn=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).questionnaireMap=[{question:"Attended?",property:"attended"},{question:"Baby changing?",property:"babyChange"},{question:"Automatic?",property:"automatic"},{question:"Radar key?",property:"radar"}],a.optionsMap=Ka.looProps.definitions;var n={loo:{active:null,name:"",access:"",type:"",accessibleType:"",opening:"",notes:"",fee:""}};return a.questionnaireMap.forEach((function(e){n.loo[e.property]=""})),n.loo=et.a.merge({},n.loo,e.loo?e.loo.properties:{}),n.originalData=et.a.cloneDeep(n.loo),n.originalCenter=a.getCenter(),a.state=n,a.handleChange=a.handleChange.bind(Object(Jt.a)(a)),a.handleTriStateChange=a.handleTriStateChange.bind(Object(Jt.a)(a)),a.save=a.save.bind(Object(Jt.a)(a)),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.id&&(this.props.loo||this.props.actionFindByIdRequest(this.props.match.params.id),this.props.actionHighlight(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.actionHighlight(null)}},{key:"handleChange",value:function(e){var t=et.a.cloneDeep(this.state.loo);et.a.set(t,e.target.name,e.target.value),this.setState({loo:t})}},{key:"handleTriStateChange",value:function(e){var t;switch(e.target.value){case"true":t=!0;break;case"false":t=!1;break;default:t=e.target.value}var a=et.a.cloneDeep(this.state.loo);et.a.set(a,e.target.name,t),this.setState({loo:a})}},{key:"isDerived",value:function(){return!!this.props.loo}},{key:"getNovelInput",value:function(){var e=et.a.cloneDeep(this.state.originalData),t=et.a.cloneDeep(this.state.loo);t.active=!0,e.geometry={type:"Point",coordinates:[this.state.originalCenter.lng,this.state.originalCenter.lat]},t.geometry={type:"Point",coordinates:[this.getCenter().lng,this.getCenter().lat]};var a=function e(t,a){return et.a.transform(t,(function(t,n,o){if(et.a.isObject(n)){var r=e(n,a[o]);et.a.isEmpty(r)||(t[o]=r)}else n!==a[o]&&(t[o]=n)}))}(t,e);return this.isDerived()||(a.geometry=t.geometry),a}},{key:"getCenter",value:function(){return this.props.map.center?this.props.map.center:this.props.geolocation.position}},{key:"save",value:function(){var e=this.getNovelInput();e.geometry={type:"Point",coordinates:[this.getCenter().lng,this.getCenter().lat]},this.questionnaireMap.forEach((function(t){""===e[t.property]&&(e[t.property]=null)})),this.props.actionReportRequest(e,this.isDerived()?this.props.loo:void 0)}},{key:"renderMain",value:function(){var e=this,t=this.state.loo,a=this.getCenter();return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"))),this.isDerived()?o.a.createElement("h2",{className:Ja.a.large},"Update This Toilet"):o.a.createElement("h2",{className:Ja.a.large},"Add This Toilet"),o.a.createElement(re.a,{maxWidth:je.viewport.mobile},o.a.createElement("div",{className:Sn.a.mobileMap},this.renderMap())),o.a.createElement(qe,null,o.a.createElement("p",null,"Align the crosshair with where you believe the toilet to be.")),o.a.createElement(mn,{persistKey:"edit-welcome",title:"Welcome Contributor!",content:"Please fill in everything you can about the toilet below."}),o.a.createElement("label",null,"Toilet name",o.a.createElement("input",{name:"name",type:"text",className:Pe.a.text,value:null===t.name?"":t.name,onChange:this.handleChange,"data-testid":"toilet-name"})),o.a.createElement("label",null,"Who can access?",o.a.createElement("select",{name:"access",className:Pe.a.dropdown,value:null===t.access?"":t.access,onChange:this.handleChange,"data-testid":"who-can-access"},o.a.createElement("option",{value:""},"Unknown"),this.optionsMap.access.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.name)})))),o.a.createElement("label",null,"Facilities",o.a.createElement("select",{name:"type",className:Pe.a.dropdown,value:null===t.type?"":t.type,onChange:this.handleChange,"data-testid":"facilities"},o.a.createElement("option",{value:""},"Unknown"),this.optionsMap.type.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.name)})))),o.a.createElement("label",null,"Accessible facilities",o.a.createElement("select",{name:"accessibleType",className:Pe.a.dropdown,value:null===t.accessibleType?"":t.accessibleType,onChange:this.handleChange,"data-testid":"accessible-facilities"},o.a.createElement("option",{value:""},"Unknown"),this.optionsMap.type.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.name)})))),o.a.createElement("label",null,"Opening hours",o.a.createElement("select",{name:"opening",className:Pe.a.dropdown,value:null===t.opening?"":t.opening,onChange:this.handleChange,"data-testid":"opening-hours"},o.a.createElement("option",{value:""},"Unknown"),this.optionsMap.opening.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.name)})))),o.a.createElement("div",{className:Sn.a.questionnaire},o.a.createElement("div",null,o.a.createElement("span",{className:Sn.a.questionnaireCol}),o.a.createElement("span",{className:Sn.a.questionnaireCol,id:"yes"},"Yes"),o.a.createElement("span",{className:Sn.a.questionnaireCol,id:"no"},"No"),o.a.createElement("span",{className:Sn.a.questionnaireCol,id:"unknown"},"Don't know")),this.questionnaireMap.map((function(a,n){return o.a.createElement("fieldset",{key:n,className:Sn.a.questionnaireGroup},o.a.createElement("legend",{className:Mn.a.visuallyHidden},a.question),o.a.createElement("span",{className:Sn.a.questionnaireCol},a.question),o.a.createElement("input",{name:a.property,className:Sn.a.questionnaireCol,type:"radio",value:!0,"aria-labelledby":"yes",checked:!0===t[a.property],onChange:e.handleTriStateChange,"data-testid":"".concat(a.property,":yes")}),o.a.createElement("input",{name:a.property,className:Sn.a.questionnaireCol,type:"radio",value:!1,"aria-labelledby":"no",checked:!1===t[a.property],onChange:e.handleTriStateChange,"data-testid":"".concat(a.property,":no")}),o.a.createElement("input",{name:a.property,className:Sn.a.questionnaireCol,type:"radio",value:"","aria-labelledby":"unknown",checked:""===t[a.property],onChange:e.handleTriStateChange,"data-testid":"".concat(a.property,":unknown")}))}))),o.a.createElement("label",null,"Fee?",o.a.createElement("input",{name:"fee",type:"text",className:Pe.a.text,value:null===t.fee?"":t.fee,placeholder:"The amount e.g. \xa30.10",onChange:this.handleChange,"data-testid":"fee"})),o.a.createElement("label",null,"Any notes?",o.a.createElement("textarea",{name:"notes",className:Pe.a.text,value:null===t.notes?"":t.notes,onChange:this.handleChange,"data-testid":"notes"})),o.a.createElement("h3",{className:Ja.a.regular},"Data for this toilet"),o.a.createElement("div",{className:Sn.a.data},o.a.createElement("label",null,"Latitude",o.a.createElement("input",{type:"text",name:"geometry.coordinates.0",className:Pe.a.text,value:a.lat,readOnly:!0})),o.a.createElement("label",null,"Longitude",o.a.createElement("input",{type:"text",name:"geometry.coordinates.1",className:Pe.a.text,"data-testid":"loo-name",value:a.lng,readOnly:!0}))),o.a.createElement("div",{className:Pe.a.btnStack},this.isDerived()?o.a.createElement("input",{type:"submit",className:Pe.a.btn,onClick:this.save,value:"Update the toilet",disabled:et.a.isEmpty(this.getNovelInput())}):o.a.createElement("input",{type:"submit",className:Pe.a.btn,onClick:this.save,value:"Add the toilet","data-testid":"add-the-toilet"}),this.isDerived()&&o.a.createElement(ce.a,{to:"/loos/".concat(this.props.loo._id,"/remove"),className:Pe.a.btnCaution},"Remove the toilet")))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,{loo:this.props.loo,highlight:!0,mapProps:{showLocation:!1,showSearchControl:!0,showLocateControl:!1,preventDragging:!1,minZoom:je.editMinZoom}})}},{key:"render",value:function(){return this.props.match.params.id&&!this.props.loo?o.a.createElement(Ye,{main:o.a.createElement(Lt,{message:"Fetching Toilet Data"}),map:o.a.createElement(Lt,{message:"Fetching Toilet Data"})}):o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()})}}]),t}(n.Component);var Bn={actionReportRequest:function(e,t){return{type:ct,payload:{loo:e,from:t}}},actionFindByIdRequest:ht,actionHighlight:Ct},Un=Object(p.b)((function(e,t){var a=e.loos.byId[t.match.params.id]||null;return{app:e.app,map:e.mapControls,geolocation:e.geolocation,loo:a,key:a?a._id:"newLoo"}}),Bn)(Tn),Pn=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"renderMain",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"))),o.a.createElement("h2",{className:Ja.a.large},"Hello! What's your name?"),o.a.createElement("p",null,"Before you can contribute data we'll need to know who to thank."),o.a.createElement("p",null,"We'll only store the first part of the email address you give us against the data you contribute."),o.a.createElement("p",null,"Login or sign up to let us know you're real."),o.a.createElement("div",{className:Pe.a.btnStack},o.a.createElement("button",{onClick:this.props.doLogin,className:Pe.a.btn},"Log In/Sign Up")))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,null)}},{key:"render",value:function(){return o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()})}}]),t}(n.Component),Dn={doLogin:$},Rn=Object(p.b)((function(e){return{app:e.app}}),Dn)(Pn),Gn=a(134),Fn=a.n(Gn),Zn=a(135),zn=a.n(Zn),Wn=a(136),Hn=a.n(Wn),Yn=a(137),Qn=a.n(Yn),Jn=a(138),qn=a.n(Jn),Vn=a(139),Kn=a.n(Vn),Xn=a(140),$n=a.n(Xn),eo=a(141),to=a.n(eo),ao=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).state={unsavedPreferences:{},savedPreferences:je.getSettings(Ce)},a.preferenceMap=[{name:"free",image:Qn.a,label:"Free"},{name:"accessible",image:Hn.a,label:"Accessible"},{name:"open",image:qn.a,label:"Open Now"},{name:"male",image:Kn.a,label:"Male"},{name:"female",image:$n.a,label:"Female"},{name:"babychanging",image:to.a,label:"Baby Changing"}],a.save=a.save.bind(Object(Jt.a)(a)),a.updateSelection=a.updateSelection.bind(Object(Jt.a)(a)),a}return Object(_.a)(t,e),Object(y.a)(t,[{key:"updateSelection",value:function(e){var t=e.target.checked||void 0,a=Fn()(this.state,{unsavedPreferences:Object(w.a)({},e.target.name,{$set:t}),updated:{$set:!1}});this.setState(a)}},{key:"save",value:function(){var e=Object.assign({},this.state.unsavedPreferences);for(var t in e)e.hasOwnProperty(t)&&je.setSetting(Ce,t,e[t]);this.setState({unsavedPreferences:{},updated:!0})}},{key:"isDirty",value:function(){return 0!==Object.keys(this.state.unsavedPreferences).length}},{key:"renderMain",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"))),o.a.createElement(mn,{persistKey:"preferences-intro",title:"Preferences",content:"Highlight toilet features that matter to you. Toilets with these\n                        features will be indicated for you. Toilets lacking crucial features will\n                        appear in red."}),o.a.createElement("h2",{className:Ja.a.large},"My Toilet Preferences"),o.a.createElement("div",{className:zn.a.preferences},this.preferenceMap.map((function(t){return o.a.createElement("label",{key:t.name,className:Pe.a.preferenceWrapper},o.a.createElement("input",{className:Pe.a.preferenceInput,type:"checkbox",name:t.name,onChange:e.updateSelection,defaultChecked:e.state.savedPreferences[t.name]}),o.a.createElement("span",{className:Pe.a.preference},o.a.createElement("img",{alt:t.name,className:Pe.a.preferenceImage,src:t.image}),o.a.createElement("span",null,t.label)))}))),this.state.updated&&o.a.createElement(qe,null,o.a.createElement("h3",{className:Mn.a.visuallyHidden},"Saved"),o.a.createElement("p",null,"Your preferences have been updated.")),o.a.createElement("button",{className:Pe.a.btn,onClick:this.save,disabled:!this.isDirty()},"Save"))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,null)}},{key:"render",value:function(){return o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()})}}]),t}(n.Component),no=Object(p.b)((function(e){return{app:e.app}}),{})(ao);function oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.properties.geometry.coordinates.join(","),n=e.properties.name||"",o=e.properties.opening||"";return"https://docs.google.com/forms/d/e/1FAIpQLScMvkjoE68mR1Z-yyVH7YhdndHCd_k8QwbugwfbqgZGUr_DvQ/viewform?emailAddress=".concat(encodeURIComponent(t),"&entry.975653982=").concat(encodeURIComponent(a),"&entry.688810578=").concat(encodeURIComponent(n),"&entry.1574991632=").concat(encodeURIComponent(o))}var ro=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.loo||this.props.actionFindByIdRequest(this.props.match.params.id),this.props.actionHighlight(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&(this.props.loo||this.props.actionFindByIdRequest(this.props.match.params.id),this.props.actionHighlight(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.actionHighlight(null)}},{key:"renderMain",value:function(){var e=this.props,t=e.loo,a=e.name;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"))),o.a.createElement("h2",{id:"thanks",className:Ja.a.regular},"Thank You!"),o.a.createElement("p",null,"Thanks for the information you've provided."),o.a.createElement("p",null,"We rely on contributions of data like yours to keep the map accurate and useful."),o.a.createElement("p",null,"Please consider signing up with our sponsor's campaign."),o.a.createElement("a",{className:Pe.a.btnFeatured,target:"_blank",rel:"noopener noreferrer",href:oo(t,a)},"Join the ",o.a.createElement("strong",null,"Use Our Loos")," campaign"))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,{loo:this.props.loo,mapProps:{showLocation:!1,showSearchControl:!1,showLocateControl:!1,showCenter:!1,countLimit:null}})}},{key:"render",value:function(){return this.props.loo?o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()}):o.a.createElement(Ye,{main:o.a.createElement(Lt,{message:"Fetching Toilet Data"}),map:o.a.createElement(Lt,{message:"Fetching Toilet Data"})})}}]),t}(n.Component),io={actionFindByIdRequest:ht,actionHighlight:Ct},so=Object(p.b)((function(e,t){return{app:e.app,loo:e.loos.byId[t.match.params.id]||null,name:e.auth.name}}),io)(ro),co=a(50),lo=a.n(co),uo=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"positionFromRouter",value:function(){return{lat:parseFloat(this.props.match.params.lat),lng:parseFloat(this.props.match.params.lng)}}},{key:"componentDidMount",value:function(){this.props.actionUpdateCenter(this.positionFromRouter())}},{key:"componentWillUnmount",value:function(){this.props.actionHighlight(null)}},{key:"renderList",value:function(e){var t=this,a=this.props.loos;return!a||this.props.loadingNearby&&e?o.a.createElement(qe,null,o.a.createElement("p",null,"Fetching toilets\u2026")):a&&!a.length?o.a.createElement(qe,null,o.a.createElement("p",null,"No toilets found within ",je.nearestRadius/1e3,"km.")):o.a.createElement("div",null,o.a.createElement("h2",{className:Ja.a.large},"Nearest Toilets"),o.a.createElement("ul",{className:lo.a.looList},a&&a.slice(0,je.nearestListLimit).map((function(e,a){return o.a.createElement("li",{key:e._id,className:lo.a.looListItem},o.a.createElement(bn,{loo:e,onHoverStart:et.a.partial(t.props.actionHighlight,e._id),onHoverEnd:et.a.partial(t.props.actionHighlight,void 0),index:a+1}))}))))}},{key:"renderMain",value:function(){var e=this.props.app.viewMode;return o.a.createElement("div",{className:lo.a.container},this.props.isAuthenticated&&o.a.createElement(qe,null,o.a.createElement("p",null,"Logged in. ",o.a.createElement("button",{onClick:this.props.doLogout},"Log out"))),o.a.createElement("div",{className:_e.a.controls},je.allowAddEditLoo&&o.a.createElement(ce.a,{to:"/report",className:Pe.a.btn},"Add a toilet"),o.a.createElement(re.a,{maxWidth:je.viewport.mobile},o.a.createElement("button",{className:Pe.a.btn,onClick:this.props.actionToggleViewMode},"list"===e?"View map":"View list"))),o.a.createElement(re.a,{maxWidth:je.viewport.mobile,className:lo.a.mobileContent},"list"===e&&this.renderList(!0),"map"===e&&o.a.createElement("div",{className:lo.a.mobileMap},o.a.createElement("div",{className:xt.a.map},this.renderMap()))),o.a.createElement(re.a,{minWidth:je.viewport.mobile},this.renderList(!1)))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,{mapProps:{initialPosition:this.positionFromRouter()},numberNearest:!0})}},{key:"render",value:function(){return o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()})}}]),t}(n.Component),po={actionHighlight:Ct,actionUpdateCenter:wt,actionToggleViewMode:On,doLogout:ee,doLogin:$},mo=Object(p.b)((function(e){return{geolocation:e.geolocation,mapControls:e.mapControls,loos:e.loos.nearby,app:e.app,isAuthenticated:e.auth.isAuthenticated,loadingNearby:e.loos.loadingNearby}}),po)(Object(k.a)(uo)),ho=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"renderMain",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"))),o.a.createElement("img",{src:Na.a,alt:"Powered by Domestos"}),o.a.createElement("p",null,o.a.createElement("strong",null,"Use Our Loos")," is the first national community toilet scheme, created by the British Toilet Association, Domestos and the"," ",o.a.createElement("strong",null,"Great British Public Toilet Map"),", with the ambition to unlock the loos that are hidden in high street cafes, restaurants, coffee shops and bars and open them up to the community."),o.a.createElement("p",null,"We're inviting businesses to sign up and welcome everyone, customers and non-customers, to use your loos. By joining our initiative, you will:"),o.a.createElement("ul",{className:Nn.a.inset},o.a.createElement("li",null,"Receive a Domestos welcome pack with free products and discounts to keep the toilet clean."),o.a.createElement("li",null,"Receive Use Our Loos stickers and signage to proudly display your commitment to the community."),o.a.createElement("li",null,"Get local support and liaison with the campaign manager."),o.a.createElement("li",null,"Get local fame and benefit from increased customers and a stronger connection to your community.")),o.a.createElement("p",null,o.a.createElement("strong",null,o.a.createElement("a",{href:"https://goo.gl/forms/JRw6J7yoDe46YIB23"},"Register your interest here!"))),o.a.createElement("p",null,"If you have any questions please contact the Campaign Manager at"," ",o.a.createElement("a",{href:"mailto:useourloos@gmail.com"},"useourloos@gmail.com")),o.a.createElement("p",null,"Please note you must be a representative of any business you sign up to the scheme. Members of the public can help by encouraging their local businesses to sign up."," ",o.a.createElement("a",{href:"https://drive.google.com/file/d/1CPHj8nKAS7PS2mvUxrIwmHm2hAt9Vn2h/view?usp=sharing",target:"_blank",rel:"noopener noreferrer"},"You can find campaign materials here"),"."),o.a.createElement("div",{className:_e.a.bandedSection},o.a.createElement("div",{className:_e.a.bandedSectionText},o.a.createElement("div",{className:_e.a.mainContainer},o.a.createElement("h2",{id:"faq",className:Ja.a.regular},"Use Our Loos FAQs"),o.a.createElement("h3",null,"Who Can Join The Scheme?"),o.a.createElement("p",null,"Businesses of all sizes can join the scheme."),o.a.createElement("h3",null,"What are the requirements of joining the scheme?"),o.a.createElement("p",null,"Participating businesses should allow customers and non customers alike to access their toilet facilities during normal opening hours and display stickers to make people aware of their participation in the scheme. There is an expectation that facilities will be maintained to acceptable standards of hygiene and cleanliness."),o.a.createElement("h3",null,"Why was this scheme created?"),o.a.createElement("p",null,"Over the past two decades, the number of public toilets available throughout the UK have been steadily reduced. There is currently no legal requirement for local authorities to provide toilets. This often leads to loos being closed if councils deem they cannot afford the cost to maintain. This presents a struggle for the many individuals and families who have a greater need for access to public facilities; it\u2019s also a basic human need for us all. The Use Our Loos scheme has been designed to bring the public loos back by opening more loos through cafes, restaurants, and shops, where facilities already exist."),o.a.createElement("p",null,"Community Toilet Schemes have been run successfully at a local level across the country but the public are often unaware of their existence. By bringing these schemes under one umbrella, as well as welcoming new members we hope to increase the value for everyone."),o.a.createElement("h3",null,"Does this scheme aim to replace traditional public toilets?"),o.a.createElement("p",null,"No. Purpose built public toilets serve an important role in public life, and we will continue to encourage councils to increase rather than cut provision. This scheme aims to find a community-oriented solution to filling the gaps in current provision."),o.a.createElement("h3",null,"Can Businesses also participate in Local Community Toilet Schemes?"),o.a.createElement("p",null,"Yes! The Use Our Loos Campaign is not intended to replace existing schemes run by local authorities. We aim to unite existing schemes with a common and recognizable brand to enable the public to access them more easily. For areas where local schemes exist businesses are encouraged to sign up to both."),o.a.createElement("h3",null,"What if a dangerous situation arises in my loo?"),o.a.createElement("p",null,"Businesses reserve the right to manage situations as they would with any customer to their establishment, including escalating issues as needed."),o.a.createElement("h3",null,"What if I want to leave the scheme?"),o.a.createElement("p",null,"Businesses can leave the scheme at any time by contacting the campaign manager and asking to be removed from the map."),o.a.createElement("h3",null,"Terms and Conditions"),o.a.createElement("p",null,"You can view the full project"," ",o.a.createElement("a",{href:"https://drive.google.com/file/d/1lnTVYZWBc36W6J9YjLo1mB1bB4MIudOi/view?usp=sharing"},"terms and conditions here"),".")))))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,{numberNearest:!0})}},{key:"render",value:function(){return o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()})}}]),t}(n.Component),go=function(e){function t(){return Object(v.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"renderMain",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:_e.a.controls},je.showBackButtons&&o.a.createElement("button",{onClick:this.props.history.goBack,className:Pe.a.btn},"Back"))),o.a.createElement("h2",{id:"privacy-policy",className:Ja.a.regular},"Privacy Policy"),o.a.createElement("h3",null,"Visitors to the site"),o.a.createElement("p",null,"Cookies on The Great British Public Toilet Map website are used to gather anonymous data such as which pages are viewed, what time the visit occurred, if the visitor has been to the site before, and which site referred the visitor to the web page etc."),o.a.createElement("p",null,"Public Convenience Ltd also notes and saves information such as time of day, browser type and content requested. That information is used to provide more relevant services to users."),o.a.createElement("p",null,"Any data collected automatically from visitors to our web sites through the use of cookies will be used to improve the sites, and will not and cannot be used to identify any visitor. Consent by site visitors for this anonymous data to be collected and used by Public Convenience Ltd and the Use Our Loos campaign for the purpose stated above will be assumed by your continued navigation of this website."),o.a.createElement("p",null,"We will not associate any data gathered from this site through navigation and cookies with any personally identifying information from any source. We may also log Internet Protocol (IP) address (but nothing that directly identifies visitors) in order to receive and send the required information over the internet."),o.a.createElement("h3",null,"Contributors to the site"),o.a.createElement("p",null,"Contributors to The Great British Public Toilet Map website are asked to sign-in via the Auth0 platform using their email address. This helps us to share data on the quantity and spread of contributions to the site which helps show how the community value the project, to improve our interfaces for our users, to protect our dataset from misuse and to recognise contributions from a user if that user is adding unsuitable content, whether intentionally or inadvertently."),o.a.createElement("p",null,"A full list of a contributor\u2019s activities will only be accessible to Public Convenience Ltd and the Use Our Loos campaign manager, for moderating the dataset. A contributor\u2019s full email address will never be disclosed or shared and is only visible to Public Convenience Ltd."),o.a.createElement("h3",null,"Public and Business Supporters of Use Our Loos campaign"),o.a.createElement("p",null,"Individuals and businesses who click the \u201cJoin the Use Our Loos campaign\u201d button on The Great British Public Toilet Map should have the opportunity to consider the terms and conditions of the campaign before completing the sign-up form there. The campaign is separate from The Great British Public Toilet Map. Data added to the Use Our Loos campaign is not stored or processed by Public Convenience Ltd."),o.a.createElement("p",null,"If you'd like to know what we've stored about you, or ask us to forget you, or to let us know about something you'd like changed please drop us a line at"," ",o.a.createElement("a",{href:"mailto:gbtoiletmap@gmail.com",target:"_blank",rel:"noopener noreferrer"},"gbtoiletmap@gmail.com"),". If you'd like to exercise any of your rights under the GDPR that's the address to use."))}},{key:"renderMap",value:function(){return o.a.createElement(Wa,{numberNearest:!0})}},{key:"render",value:function(){return o.a.createElement(Ye,{main:this.renderMain(),map:this.renderMap()})}}]),t}(n.Component),fo=a(51),bo=a.n(fo),vo=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:bo.a.bg}),o.a.createElement("div",{className:bo.a.main},o.a.createElement(he,null),o.a.createElement("h1",{className:bo.a.title},"Page not found"),o.a.createElement("p",{className:bo.a.info},"This could be because the page has moved, or you typed an address wrong."),o.a.createElement(ce.a,{to:"/"},o.a.createElement("button",{className:bo.a.homeBtn},"Take me back home!"))))},yo=a(12),Eo=z.a.mark(_o),Oo=z.a.mark(ko);function _o(){var e,t,a,n,o;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))},!("geolocation"in navigator)){r.next=21;break}return r.prev=2,r.next=5,Object(yo.b)(e);case 5:return t=r.sent,r.next=8,Object(yo.c)(S[N](t));case 8:return a=t.coords,n=a.longitude,o=a.latitude,r.next=11,Object(yo.c)(wt({lng:n,lat:o}));case 11:r.next=19;break;case 13:return r.prev=13,r.t0=r.catch(2),r.next=17,Object(yo.c)(S[x](r.t0.message));case 17:return r.next=19,Object(yo.c)(wt(je.fallbackLocation));case 19:r.next=25;break;case 21:return r.next=23,Object(yo.c)(S[x]("Geolocation is unavailable"));case 23:return r.next=25,Object(yo.c)(wt(je.fallbackLocation));case 25:case"end":return r.stop()}}),Eo,null,[[2,13]])}function ko(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yo.f)(j,_o);case 2:case"end":return e.stop()}}),Oo)}var wo=z.a.mark(jo),Ao=z.a.mark(No),Co=function(e){return e.mapControls.center};function jo(e){var t,a;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(yo.d)(Co);case 2:if(t=n.sent,a=e.payload.center,et.a.isEqual(t,a)){n.next=7;break}return n.next=7,Object(yo.c)(ut(a.lng,a.lat,je.nearestRadius));case 7:return n.next=9,Object(yo.c)(At(a));case 9:case"end":return n.stop()}}),wo)}function No(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yo.f)(kt,jo);case 2:case"end":return e.stop()}}),Ao)}var xo=new J,Lo=Object(u.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0,a=_n[t.type];return a?a(e,t):e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,a=ae[t.type];return a?a(e,t):e},geolocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=I[t.type];return a?a(e,t):e},loos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0,a=vt[t.type];return a?a(e,t):e},mapControls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=jt[t.type];return a?a(e,t):e}}),So=Object(m.a)(),Io=Object(u.a)(So),Mo=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),To=Io(u.d)(Lo,{},Mo);So.run(function(e){var t=z.a.mark(n),a=z.a.mark(o);function n(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(yo.b)(e.login);case 2:case"end":return t.stop()}}),t)}function o(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(yo.b)(e.logout);case 2:return t.next=4,Object(yo.c)(te(!1));case 4:return t.next=6,Object(yo.b)(Q.push,"/");case 6:case"end":return t.stop()}}),a)}return z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yo.a)([Object(yo.f)(K,n),Object(yo.f)(X,o)]);case 2:case"end":return e.stop()}}),e)}))}(xo)),So.run(ko),So.run(function(e){var t=z.a.mark(r),a=z.a.mark(i),n=z.a.mark(s),o=z.a.mark(c);function r(e){var a,n,o,r,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(yo.c)(pt());case 2:return a=e.payload,n=a.lng,o=a.lat,r=a.radius,t.next=5,Object(yo.b)([tn,tn.findLoos],n,o,r);case 5:return i=t.sent,t.next=8,Object(yo.c)(mt(i));case 8:case"end":return t.stop()}}),t)}function i(e){var t;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(yo.b)([tn,tn.findLooById],e.payload.id);case 2:return t=a.sent,a.next=5,Object(yo.c)(dt(t));case 5:case"end":return a.stop()}}),a)}function s(t){var a,o,r,i,s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.payload,o=a.loo,r=a.from,n.next=3,Object(yo.b)([tn,tn.reportLoo],o,e.getAccessToken(),r);case 3:return i=n.sent,n.next=6,Object(yo.c)(ft(i));case 6:return n.next=8,Object(yo.c)(gt(i.loo));case 8:return n.next=10,Object(yo.d)(Co);case 10:return s=n.sent,n.next=13,Object(yo.c)(ut(s.lng,s.lat));case 13:return n.next=15,Object(yo.e)(it);case 15:return n.next=17,Object(yo.b)(Q.push,"/loos/".concat(i.loo,"/thanks"));case 17:return n.abrupt("return",n.sent);case 18:case"end":return n.stop()}}),n)}function c(t){var a,n,r,i;return z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=t.payload,n=a.looId,r=a.reason,o.next=3,Object(yo.b)([tn,tn.removeLoo],n,r,e.getAccessToken());case 3:return i=o.sent,o.next=6,Object(yo.c)(bt(i));case 6:return o.next=8,Object(yo.b)(Q.push,"/");case 8:return o.abrupt("return",o.sent);case 9:case"end":return o.stop()}}),o)}return z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(yo.a)([Object(yo.f)(rt,r),Object(yo.f)(st,i),Object(yo.f)(ct,s),Object(yo.f)(lt,c)]);case 2:case"end":return e.stop()}}),e)}))}(xo)),So.run(No);var Bo=function(){"undefined"!==typeof document&&(i.a.render(o.a.createElement(p.a,{store:To},o.a.createElement(s.a,{history:Q,forceRefresh:!1},o.a.createElement(D,null,o.a.createElement(c.a,null,o.a.createElement(l.a,{exact:!0,path:"/index.html",component:Cn}),o.a.createElement(l.a,{exact:!0,path:"/preferences",component:no}),o.a.createElement(l.a,{exact:!0,path:"/about",component:xn}),o.a.createElement(l.a,{exact:!0,path:"/privacy",component:go}),o.a.createElement(l.a,{exact:!0,path:"/use-our-loos",component:ho}),o.a.createElement(l.a,{path:"/loos/:id",exact:!0,component:on}),o.a.createElement(l.a,{path:"/login",component:Rn}),o.a.createElement(l.a,{path:"/map/:lng/:lat",component:mo}),o.a.createElement(l.a,{exact:!0,path:"/callback",render:function(e){return o.a.createElement(Xe,Object.assign({auth:xo},e))}}),o.a.createElement(F,{exact:!0,path:"/report",component:Un,auth:xo}),o.a.createElement(F,{path:"/loos/:id/edit",component:Un,auth:xo}),o.a.createElement(F,{path:"/loos/:id/remove",component:cn,auth:xo}),o.a.createElement(F,{path:"/loos/:id/thanks",component:so,auth:xo}),o.a.createElement(l.a,{component:vo}))))),document.getElementById("root")),d())};window.cordova?document.addEventListener("deviceready",Bo,!1):Bo()},31:function(e,t,a){e.exports={colors:"'../../css/colors.css'",colorLinkActive:"#165016",colorBackground:"#1a1a1a",footer:"footer_footer__2L8xe",footerList:"footer_footerList__22cFV",footerListItem:"footer_footerListItem__2ewf5",footerItemText:"footer_footerItemText__hl7AF",footerItem:"footer_footerItem__2WCFP"}},32:function(e,t,a){e.exports={questionnaire:"edit-loo-page_questionnaire__U3aFW",questionnaireGroup:"edit-loo-page_questionnaireGroup__1bMjl",questionnaireCol:"edit-loo-page_questionnaireCol__1ZjW-",data:"edit-loo-page_data__2OTQS",mobileMap:"edit-loo-page_mobileMap__16Xw9"}},37:function(e,t,a){e.exports={wrapper:"logo_wrapper__1GteU",image:"logo_image__3G1hZ",title:"logo_title__y1NQR",newimage:"logo_newimage__34iDG",useOurLoosLogoImage:"logo_useOurLoosLogoImage__bUDHV"}},39:function(e,t,a){e.exports={mobileMap:"loo-page_mobileMap__1bKGc",controls:"loo-page_controls__2Nreg",properties:"loo-page_properties__1P4nH",property:"loo-page_property__2DtOc",properyName:"loo-page_properyName__12Vtl",propertyValue:"loo-page_propertyValue__K-FRG",preferenceIndicators:"loo-page_preferenceIndicators__16-Fi"}},48:function(e,t,a){e.exports={distance:"loo-list-item_distance__elyng",container:"loo-list-item_container__Itl1m",link:"loo-list-item_link__13FFE",linkText:"loo-list-item_linkText__1jT-i",preferenceIndicators:"loo-list-item_preferenceIndicators__G9CRx"}},49:function(e,t,a){e.exports={container:"home-page_container__ZVtKd",looList:"home-page_looList__286Wt",looListItem:"home-page_looListItem__1cWc3",mapToggle:"home-page_mapToggle__16NG7 controls_btnSmall__2Cuv_ controls_btn__12gn5",mobileContent:"home-page_mobileContent__1KzQN",mobileMap:"home-page_mobileMap__2iGpj",marker:"home-page_marker__13Bg_",count:"home-page_count__1tScv"}},50:function(e,t,a){e.exports={container:"map-page_container__MS3Nq",looList:"map-page_looList__36Jbc",looListItem:"map-page_looListItem__1zdlb",mapToggle:"map-page_mapToggle__3SqaF controls_btnSmall__2Cuv_ controls_btn__12gn5",mobileContent:"map-page_mobileContent__8bGby",mobileMap:"map-page_mobileMap__3EvTT",marker:"map-page_marker__Syv4f",count:"map-page_count__1oSia"}},51:function(e,t,a){e.exports={bg:"notfound_bg__2l0jS",main:"notfound_main__1S0k-",title:"notfound_title__huNzH",info:"notfound_info__2iMuY",homeBtn:"notfound_homeBtn__2-vy0 controls_btn__12gn5"}},55:function(e,t,a){e.exports={inset:"lists_inset__2XYl_",items:"lists_items__3X3Jf"}},6:function(e,t,a){e.exports={colors:"'./colors.css'",colorButton:"#217821",colorButtonDisabled:"#808080",colorButtonActive:"#146b14",colorButtonFeatured:"#55acee",colorButtonFeaturedActive:"#489fe1",colorButtonCaution:"#c00",colorButtonCautionActive:"#b30000",colorSelected:"#d1e567",btn:"controls_btn__12gn5",btnSmall:"controls_btnSmall__2Cuv_ controls_btn__12gn5",btnFeatured:"controls_btnFeatured__3qGH5 controls_btn__12gn5",btnCaution:"controls_btnCaution__7cGvD controls_btn__12gn5",btnStack:"controls_btnStack__FbP-v",text:"controls_text__w6vV-",dropdown:"controls_dropdown__A8N7H controls_text__w6vV-",preferenceWrapper:"controls_preferenceWrapper__2Qa2O",preference:"controls_preference__yG4za controls_btn__12gn5",preferenceInput:"controls_preferenceInput__3D8bc",preferenceImage:"controls_preferenceImage__plqFY"}},63:function(e,t,a){var n=a(64).DateTime,o=[{name:"24/7",value:"24/7",check:function(){return!0}},{name:"Business hours, Mon-Sun",value:"09:00-17:00",check:function(e){return e.hour>=9&&e.hour<=17}},{name:"Business hours, Mon-Fri",value:"Mo-Fr 09:00-17:00",check:function(e){return e.weekday>=1&&e.weekday<=5&&e.hour>=9&&e.hour<=17}},{name:"Evening only",value:"17:00-00:00",check:function(e){return e.hour>=17&&e.hour<=23}},{name:"Daylight hours only",value:"09:00-18:00",check:function(e){return e.hour>=9&&e.hour<=18}}];e.exports={definitions:o,isOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.local(),a=o.find((function(t){return t.value===e}));return a?a.check(t):null}}},65:function(e,t,a){e.exports=a.p+"static/media/domestos_use_our_loos_logo.ee86e081.png"},67:function(e,t,a){e.exports={visuallyHidden:"helpers_visuallyHidden__oEoMZ"}},68:function(e,t,a){e.exports={preferenceIndicator:"preference-indicators_preferenceIndicator__2LhJZ",preferenceIndicatorLarge:"preference-indicators_preferenceIndicatorLarge__2fm12",preferenceIndicatorYes:"preference-indicators_preferenceIndicatorYes__2mGUw preference-indicators_preferenceIndicator__2LhJZ",preferenceIndicatorNo:"preference-indicators_preferenceIndicatorNo__6F43a preference-indicators_preferenceIndicator__2LhJZ"}},70:function(e,t,a){e.exports={container:"dismissable-box_container__1qmyb",title:"dismissable-box_title__3DIql headings_large__3M1FA",close:"dismissable-box_close__1EcSp"}},82:function(e,t,a){e.exports={btn:"cookie-box-button_btn__1Bn-h controls_btn__12gn5",cookieButtonWrapper:"cookie-box-button_cookieButtonWrapper__33K__"}}},[[145,1,2]]]);
//# sourceMappingURL=main.4d7acd29.chunk.js.map